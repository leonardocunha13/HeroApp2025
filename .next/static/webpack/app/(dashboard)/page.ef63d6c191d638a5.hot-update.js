"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/(dashboard)/page",{

/***/ "(app-pages-browser)/./actions/form.tsx":
/*!**************************!*\
  !*** ./actions/form.tsx ***!
  \**************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CreateForm: () => (/* binding */ CreateForm),\n/* harmony export */   GetClientWithProjects: () => (/* binding */ GetClientWithProjects),\n/* harmony export */   GetClients: () => (/* binding */ GetClients),\n/* harmony export */   GetEquipmentTagsForForm: () => (/* binding */ GetEquipmentTagsForForm),\n/* harmony export */   GetFormById: () => (/* binding */ GetFormById),\n/* harmony export */   GetFormContentByUrl: () => (/* binding */ GetFormContentByUrl),\n/* harmony export */   GetFormStats: () => (/* binding */ GetFormStats),\n/* harmony export */   GetFormSubmissionById: () => (/* binding */ GetFormSubmissionById),\n/* harmony export */   GetFormWithSubmissionDetails: () => (/* binding */ GetFormWithSubmissionDetails),\n/* harmony export */   GetFormWithSubmissions: () => (/* binding */ GetFormWithSubmissions),\n/* harmony export */   GetForms: () => (/* binding */ GetForms),\n/* harmony export */   GetFormsByClientName: () => (/* binding */ GetFormsByClientName),\n/* harmony export */   GetFormsInformation: () => (/* binding */ GetFormsInformation),\n/* harmony export */   GetFormsWithClient: () => (/* binding */ GetFormsWithClient),\n/* harmony export */   GetProjects: () => (/* binding */ GetProjects),\n/* harmony export */   GetProjectsFromClientName: () => (/* binding */ GetProjectsFromClientName),\n/* harmony export */   GetSubmissionWithTagInfo: () => (/* binding */ GetSubmissionWithTagInfo),\n/* harmony export */   PublishForm: () => (/* binding */ PublishForm),\n/* harmony export */   SaveFormAfterTest: () => (/* binding */ SaveFormAfterTest),\n/* harmony export */   SubmitForm: () => (/* binding */ SubmitForm),\n/* harmony export */   UpdateFormContent: () => (/* binding */ UpdateFormContent),\n/* harmony export */   getContentByFormIDandTagID: () => (/* binding */ getContentByFormIDandTagID),\n/* harmony export */   getEquipmentTagID: () => (/* binding */ getEquipmentTagID),\n/* harmony export */   publishFormAction: () => (/* binding */ publishFormAction),\n/* harmony export */   runForm: () => (/* binding */ runForm),\n/* harmony export */   saveFormAction: () => (/* binding */ saveFormAction),\n/* harmony export */   submitFormAction: () => (/* binding */ submitFormAction)\n/* harmony export */ });\n/* harmony import */ var private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! private-next-rsc-action-client-wrapper */ \"(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js\");\n/* harmony import */ var private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__);\n/* __next_internal_action_entry_do_not_use__ {\"00369e8ec83ab1bd2124fd1278f96da57fcc983b0d\":\"GetClients\",\"0056b66f5e0bfda60da83a467cac83458903790355\":\"GetProjects\",\"005890e9ace11382590dfe256d18a985d80ef53664\":\"GetFormStats\",\"00a91fed0e98ab3125c1c8169ace482bdb26cc0548\":\"GetFormsInformation\",\"00ad1843f1c28ec580071c5c56699400132f7f9d12\":\"GetForms\",\"400e3e5833031e9d07aca6f53303ca77d0d2e18145\":\"publishFormAction\",\"401ebe00f05c551128eb9d6c75ea1bdbba798b238a\":\"saveFormAction\",\"40226b3b5d44a7254f49759d036f24d7c23272d040\":\"GetFormById\",\"403145f8835472f5e7741c1a435bba5cc897cb941f\":\"GetFormContentByUrl\",\"403b90fa7a3d9fa11b4a930b74a54039aa3ad1cd8d\":\"GetEquipmentTagsForForm\",\"404a8fb6c649d11bc0a07b97e817ba79e1e78b43fb\":\"GetFormsWithClient\",\"405c6f446a3b1abb852dc49ff1980b1db3e3f83630\":\"submitFormAction\",\"4068ecb9b942a6b5fed7a58d307434a4cd226cc865\":\"GetProjectsFromClientName\",\"408519304d22a0e05a5b296d09cb48801817b8def8\":\"GetFormSubmissionById\",\"40b077053238d0a2659c40cea672092d6d0cf1893c\":\"GetFormWithSubmissionDetails\",\"40c066748347b8b677aeb8f39299abc748f5c0f25e\":\"GetSubmissionWithTagInfo\",\"40d850fd14e1b9f97007830d74533abd1b2b998c5a\":\"GetFormWithSubmissions\",\"40ed1a63a644cfd2d361fd292636b2fb466efe82b6\":\"GetFormsByClientName\",\"40ffc290e11218328d68e3f5866f1a8fb2cb77cddc\":\"GetClientWithProjects\",\"6066c4603ae30a49e16a5a29faa271602a4f375e0c\":\"getEquipmentTagID\",\"60922447ba3f326fdf23eac6584943278d55d45d32\":\"getContentByFormIDandTagID\",\"60cb494246e13d01c97932a238a3d4622a74f55852\":\"UpdateFormContent\",\"702a21f6cf4717559298ad70c1798c88ee23f93130\":\"SubmitForm\",\"7035ce3c6c8f8889bce5f235aaf672a24636cf064a\":\"CreateForm\",\"70512de972c6c1b3fffa11e6c3274976b337deee8b\":\"PublishForm\",\"70670f5b317aefa057bffee35f3ac0d5a67af0e014\":\"SaveFormAfterTest\",\"7f3d15c2293b367b25bd6fde2116c045b5dca5b542\":\"runForm\"} */ \nvar GetClients = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"00369e8ec83ab1bd2124fd1278f96da57fcc983b0d\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"GetClients\");\nvar GetProjects = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"0056b66f5e0bfda60da83a467cac83458903790355\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"GetProjects\");\nvar GetFormStats = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"005890e9ace11382590dfe256d18a985d80ef53664\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"GetFormStats\");\nvar GetForms = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"00ad1843f1c28ec580071c5c56699400132f7f9d12\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"GetForms\");\nvar GetFormById = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"40226b3b5d44a7254f49759d036f24d7c23272d040\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"GetFormById\");\nvar UpdateFormContent = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"60cb494246e13d01c97932a238a3d4622a74f55852\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"UpdateFormContent\");\nvar saveFormAction = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"401ebe00f05c551128eb9d6c75ea1bdbba798b238a\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"saveFormAction\");\nvar PublishForm = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"70512de972c6c1b3fffa11e6c3274976b337deee8b\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"PublishForm\");\nvar publishFormAction = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"400e3e5833031e9d07aca6f53303ca77d0d2e18145\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"publishFormAction\");\nvar GetFormContentByUrl = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"403145f8835472f5e7741c1a435bba5cc897cb941f\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"GetFormContentByUrl\");\nvar SubmitForm = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"702a21f6cf4717559298ad70c1798c88ee23f93130\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"SubmitForm\");\nvar submitFormAction = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"405c6f446a3b1abb852dc49ff1980b1db3e3f83630\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"submitFormAction\");\nvar GetFormWithSubmissions = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"40d850fd14e1b9f97007830d74533abd1b2b998c5a\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"GetFormWithSubmissions\");\nvar GetSubmissionWithTagInfo = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"40c066748347b8b677aeb8f39299abc748f5c0f25e\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"GetSubmissionWithTagInfo\");\nvar GetFormWithSubmissionDetails = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"40b077053238d0a2659c40cea672092d6d0cf1893c\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"GetFormWithSubmissionDetails\");\nvar GetFormSubmissionById = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"408519304d22a0e05a5b296d09cb48801817b8def8\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"GetFormSubmissionById\");\nvar GetEquipmentTagsForForm = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"403b90fa7a3d9fa11b4a930b74a54039aa3ad1cd8d\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"GetEquipmentTagsForForm\");\nvar GetClientWithProjects = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"40ffc290e11218328d68e3f5866f1a8fb2cb77cddc\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"GetClientWithProjects\");\nvar GetFormsWithClient = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"404a8fb6c649d11bc0a07b97e817ba79e1e78b43fb\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"GetFormsWithClient\");\nvar GetFormsInformation = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"00a91fed0e98ab3125c1c8169ace482bdb26cc0548\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"GetFormsInformation\");\nvar GetProjectsFromClientName = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"4068ecb9b942a6b5fed7a58d307434a4cd226cc865\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"GetProjectsFromClientName\");\nvar CreateForm = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"7035ce3c6c8f8889bce5f235aaf672a24636cf064a\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"CreateForm\");\nvar runForm = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"7f3d15c2293b367b25bd6fde2116c045b5dca5b542\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"runForm\");\nvar GetFormsByClientName = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"40ed1a63a644cfd2d361fd292636b2fb466efe82b6\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"GetFormsByClientName\");\nvar SaveFormAfterTest = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"70670f5b317aefa057bffee35f3ac0d5a67af0e014\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"SaveFormAfterTest\");\nvar getContentByFormIDandTagID = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"60922447ba3f326fdf23eac6584943278d55d45d32\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"getContentByFormIDandTagID\");\nvar getEquipmentTagID = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"6066c4603ae30a49e16a5a29faa271602a4f375e0c\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"getEquipmentTagID\");\n /*getEquipmentTagID(\"Equip1\", \"Tag1\")\r\n.then((updatedForm) => {\r\n  console.log(\"Equip TAG ID:\", updatedForm);\r\n})\r\n.catch((error) => {\r\n  console.error(\"Error updating form:\", error);\r\n});*/ \n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FjdGlvbnMvZm9ybS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBdUlzQkEsMkJBQUFBLDZGQUFBQSwrQ0FBQUEsOEVBQUFBLFVBQUFBLG9GQUFBQTtJQTBDQUMsNEJBQUFBLDZGQUFBQSwrQ0FBQUEsOEVBQUFBLFVBQUFBLG9GQUFBQTtJQXFCQUMsNkJBQUFBLDZGQUFBQSwrQ0FBQUEsOEVBQUFBLFVBQUFBLG9GQUFBQTtJQXNDQUMseUJBQUFBLDZGQUFBQSwrQ0FBQUEsOEVBQUFBLFVBQUFBLG9GQUFBQTtJQW1CQUMsNEJBQUFBLDZGQUFBQSwrQ0FBQUEsOEVBQUFBLFVBQUFBLG9GQUFBQTtJQThEQUMsa0NBQUFBLDZGQUFBQSwrQ0FBQUEsOEVBQUFBLFVBQUFBLG9GQUFBQTtJQXNCQUMsK0JBQUFBLDZGQUFBQSwrQ0FBQUEsOEVBQUFBLFVBQUFBLG9GQUFBQTtJQTBCQUMsNEJBQUFBLDZGQUFBQSwrQ0FBQUEsOEVBQUFBLFVBQUFBLG9GQUFBQTtJQXdCQUMsa0NBQUFBLDZGQUFBQSwrQ0FBQUEsOEVBQUFBLFVBQUFBLG9GQUFBQTtJQVFBQyxvQ0FBQUEsNkZBQUFBLCtDQUFBQSw4RUFBQUEsVUFBQUEsb0ZBQUFBO0lBcUNBQywyQkFBQUEsNkZBQUFBLCtDQUFBQSw4RUFBQUEsVUFBQUEsb0ZBQUFBO0lBc0NBQyxpQ0FBQUEsNkZBQUFBLCtDQUFBQSw4RUFBQUEsVUFBQUEsb0ZBQUFBO0lBa0JBQyx1Q0FBQUEsNkZBQUFBLCtDQUFBQSw4RUFBQUEsVUFBQUEsb0ZBQUFBO0lBNkJBQyx5Q0FBQUEsNkZBQUFBLCtDQUFBQSw4RUFBQUEsVUFBQUEsb0ZBQUFBO0lBNkNBQyw2Q0FBQUEsNkZBQUFBLCtDQUFBQSw4RUFBQUEsVUFBQUEsb0ZBQUFBO0lBc0VBQyxzQ0FBQUEsNkZBQUFBLCtDQUFBQSw4RUFBQUEsVUFBQUEsb0ZBQUFBO0lBa0JBQyx3Q0FBQUEsNkZBQUFBLCtDQUFBQSw4RUFBQUEsVUFBQUEsb0ZBQUFBO0lBd0RBQyxzQ0FBQUEsNkZBQUFBLCtDQUFBQSw4RUFBQUEsVUFBQUEsb0ZBQUFBO0lBOEJBQyxtQ0FBQUEsNkZBQUFBLCtDQUFBQSw4RUFBQUEsVUFBQUEsb0ZBQUFBO0lBNkNBQyxvQ0FBQUEsNkZBQUFBLCtDQUFBQSw4RUFBQUEsVUFBQUEsb0ZBQUFBO0lBZ0VBQywwQ0FBQUEsNkZBQUFBLCtDQUFBQSw4RUFBQUEsVUFBQUEsb0ZBQUFBO0lBK0JBQywyQkFBQUEsNkZBQUFBLCtDQUFBQSw4RUFBQUEsVUFBQUEsb0ZBQUFBO0lBMENUQyx3QkFBQUEsNkZBQUFBLCtDQUFBQSw4RUFBQUEsVUFBQUEsb0ZBQUFBO0lBa0hTQyxxQ0FBQUEsNkZBQUFBLCtDQUFBQSw4RUFBQUEsVUFBQUEsb0ZBQUFBO0lBdUhBQyxrQ0FBQUEsNkZBQUFBLCtDQUFBQSw4RUFBQUEsVUFBQUEsb0ZBQUFBO0lBNkNBQywyQ0FBQUEsNkZBQUFBLCtDQUFBQSw4RUFBQUEsVUFBQUEsb0ZBQUFBO0lBeUNBQyxrQ0FBQUEsNkZBQUFBLCtDQUFBQSw4RUFBQUEsVUFBQUEsb0ZBQUFBO0NBaUN0Qjs7Ozs7O0dBTUciLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbGRlamVzdXMuSEVST1xcT25lRHJpdmUgLSBIZXJvIEVuZ2luZWVyaW5nXFxEZXNrdG9wXFxIZXJvQXVkaXRBcHAyMDI1XFxIZXJvQXVkaXRBcHAyMDI1XFxhY3Rpb25zXFxmb3JtLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzZXJ2ZXJcIjtcclxuXHJcbmltcG9ydCB7IEFtcGxpZnkgfSBmcm9tIFwiYXdzLWFtcGxpZnlcIjtcclxuaW1wb3J0IG91dHB1dHMgZnJvbSBcIi4uL2FtcGxpZnlfb3V0cHV0cy5qc29uXCI7XHJcbmltcG9ydCB0eXBlIHsgU2NoZW1hIH0gZnJvbSBcIi4uL2FtcGxpZnkvZGF0YS9yZXNvdXJjZVwiO1xyXG5pbXBvcnQgeyBnZW5lcmF0ZUNsaWVudCB9IGZyb20gXCJhd3MtYW1wbGlmeS9kYXRhXCI7XHJcbmltcG9ydCB7IGdldEN1cnJlbnRVc2VyIH0gZnJvbSBcImF3cy1hbXBsaWZ5L2F1dGhcIjsgLy8gRW5zdXJlIGdldEN1cnJlbnRVc2VyIGlzIGltcG9ydGVkIGNvcnJlY3RseVxyXG4vLy9pbXBvcnQgeyB2aSB9IGZyb20gXCJkYXRlLWZucy9sb2NhbGVcIjtcclxuLy9pbXBvcnQgeyBzdWIgfSBmcm9tIFwiZGF0ZS1mbnNcIjtcclxuLy9pbXBvcnQgeyBzdHJpbmcgfSBmcm9tICd6b2QnO1xyXG4vL2ltcG9ydCB7IGZvcm1TY2hlbWFUeXBlIH0gZnJvbSBcIi4uL3NjaGVtYXMvZm9ybVwiO1xyXG5cclxuQW1wbGlmeS5jb25maWd1cmUob3V0cHV0cyk7XHJcblxyXG5jb25zdCBjbGllbnQgPSBnZW5lcmF0ZUNsaWVudDxTY2hlbWE+KCk7XHJcblxyXG4vLyBVc2VyTm90Rm91bmRFcnIgY2xhc3MgZm9yIGN1c3RvbSBlcnJvciBoYW5kbGluZ1xyXG5jbGFzcyBVc2VyTm90Rm91bmRFcnIgZXh0ZW5kcyBFcnJvciB7fVxyXG5cclxuLypleHBvcnQgYXN5bmMgZnVuY3Rpb24gSW5zZXJ0Q2xpZW50KE5hbWVDbGllbnQ6IHN0cmluZykge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IGVycm9ycywgZGF0YSB9ID0gYXdhaXQgY2xpZW50Lm1vZGVscy5DbGllbnQuY3JlYXRlKHtcclxuICAgICAgQ2xpZW50TmFtZTogTmFtZUNsaWVudCxcclxuICAgIH0pO1xyXG5cclxuICAgIGlmIChlcnJvcnMpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yOlwiLCBlcnJvcnMpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gaW5zZXJ0IGNsaWVudC5cIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZGF0YTsgLy8gUmV0dXJucyB0aGUgaW5zZXJ0ZWQgY2xpZW50IGRhdGFcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yOlwiLCBlcnJvcik7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn0qL1xyXG4vKkluc2VydENsaWVudChcIkZvcnRlc2N1ZVwiKVxyXG4gIC50aGVuKChkYXRhKSA9PiBjb25zb2xlLmxvZyhcIkNsaWVudDpcIiwgZGF0YSkpXHJcbiAgLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIGNsaWVudCB3aXRoIHByb2plY3RzOlwiLCBlcnJvcikpOyovXHJcblxyXG4vLyBGdW5jdGlvbiB0byBpbnNlcnQgYSBzaW5nbGUgcHJvamVjdCAoeW91IG1heSBhbHJlYWR5IGhhdmUgc29tZXRoaW5nIGxpa2UgdGhpcylcclxuLypleHBvcnQgYXN5bmMgZnVuY3Rpb24gSW5zZXJ0UHJvamVjdChuYW1lOiBzdHJpbmcsIHByb2pOdW06IHN0cmluZywgY2xpZW50SUQ6IHN0cmluZykge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IGVycm9ycywgZGF0YSB9ID0gYXdhaXQgY2xpZW50Lm1vZGVscy5Qcm9qZWN0dC5jcmVhdGUoe1xyXG4gICAgICBwcm9qZWN0SUQ6IHByb2pOdW0sXHJcbiAgICAgIHByb2plY3ROYW1lOiBuYW1lLFxyXG4gICAgICBDbGllbnRJRDogY2xpZW50SURcclxuICAgIH0pO1xyXG5cclxuICAgIGlmIChlcnJvcnMpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yOlwiLCBlcnJvcnMpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gaW5zZXJ0IGNsaWVudC5cIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZGF0YTsgLy8gUmV0dXJucyB0aGUgaW5zZXJ0ZWQgY2xpZW50IGRhdGFcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yOlwiLCBlcnJvcik7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn0qL1xyXG5cclxuLy8gRnVuY3Rpb24gdG8gaW5zZXJ0IG11bHRpcGxlIHByb2plY3RzXHJcbi8qZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEluc2VydE11bHRpcGxlUHJvamVjdHMobmFtZXM6IHN0cmluZ1tdLCBwcm9qTnVtOiBzdHJpbmdbXSwgY2xpZW50SURzOiBzdHJpbmdbXSkge1xyXG4gIGNvbnN0IGluc2VydGVkUHJvamVjdHM6IGFueVtdID0gW107IC8vIEFycmF5IHRvIHN0b3JlIHN1Y2Nlc3NmdWxseSBpbnNlcnRlZCBwcm9qZWN0c1xyXG4gIGNvbnN0IGZhaWxlZFByb2plY3RzOiBzdHJpbmdbXSA9IFtdOyAvLyBBcnJheSB0byBzdG9yZSBwcm9qZWN0IG5hbWVzIHRoYXQgZmFpbGVkIHRvIGluc2VydFxyXG5cclxuICAvLyBFbnN1cmUgdGhhdCBpbnB1dCBhcnJheXMgaGF2ZSB0aGUgc2FtZSBsZW5ndGhcclxuICBpZiAobmFtZXMubGVuZ3RoICE9PSBwcm9qTnVtLmxlbmd0aCB8fCBwcm9qTnVtLmxlbmd0aCAhPT0gY2xpZW50SURzLmxlbmd0aCkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW5wdXQgYXJyYXlzIG11c3QgaGF2ZSB0aGUgc2FtZSBsZW5ndGguXCIpO1xyXG4gIH1cclxuXHJcbiAgLy8gTG9vcCB0aHJvdWdoIHRoZSBhcnJheXMgYW5kIGluc2VydCBwcm9qZWN0cyBvbmUgYnkgb25lXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYW1lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgY29uc3QgbmFtZSA9IG5hbWVzW2ldO1xyXG4gICAgY29uc3QgcHJvamVjdE51bWJlciA9IHByb2pOdW1baV07XHJcbiAgICBjb25zdCBjbGllbnRJRCA9IGNsaWVudElEc1tpXTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBwcm9qZWN0RGF0YSA9IGF3YWl0IEluc2VydFByb2plY3QobmFtZSwgcHJvamVjdE51bWJlciwgY2xpZW50SUQpOyAvLyBDYWxsIHRvIGluc2VydCBhIHNpbmdsZSBwcm9qZWN0XHJcbiAgICAgIGluc2VydGVkUHJvamVjdHMucHVzaChwcm9qZWN0RGF0YSk7IC8vIFN0b3JlIHRoZSBzdWNjZXNzZnVsIGluc2VydCByZXN1bHRcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBpbnNlcnQgcHJvamVjdDogJHtuYW1lfWAsIGVycm9yKTtcclxuICAgICAgZmFpbGVkUHJvamVjdHMucHVzaChuYW1lKTsgLy8gU3RvcmUgdGhlIGZhaWxlZCBwcm9qZWN0IG5hbWVcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIFJldHVybiB0aGUgcmVzdWx0czogc3VjY2Vzc2Z1bCBpbnNlcnRpb25zIGFuZCBmYWlsZWQgb25lc1xyXG4gIHJldHVybiB7XHJcbiAgICBpbnNlcnRlZFByb2plY3RzLFxyXG4gICAgZmFpbGVkUHJvamVjdHMsXHJcbiAgfTtcclxufSovXHJcblxyXG4vKmV4cG9ydCBhc3luYyBmdW5jdGlvbiBJbnNlcnRNdWx0aXBsZUNsaWVudHMobmFtZXM6IHN0cmluZ1tdKSB7XHJcbiAgY29uc3QgaW5zZXJ0ZWRDbGllbnRzOiBhbnlbXSA9IFtdOyAvLyBBcnJheSB0byBzdG9yZSBzdWNjZXNzZnVsbHkgaW5zZXJ0ZWQgY2xpZW50c1xyXG4gIGNvbnN0IGZhaWxlZENsaWVudHM6IHN0cmluZ1tdID0gW107IC8vIEFycmF5IHRvIHN0b3JlIGNsaWVudCBuYW1lcyB0aGF0IGZhaWxlZCB0byBpbnNlcnRcclxuXHJcbiAgZm9yIChsZXQgbmFtZSBvZiBuYW1lcykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgY2xpZW50RGF0YSA9IGF3YWl0IEluc2VydENsaWVudChuYW1lKTsgLy8gQ2FsbCB0aGUgc2luZ2xlIGNsaWVudCBpbnNlcnQgZnVuY3Rpb25cclxuICAgICAgaW5zZXJ0ZWRDbGllbnRzLnB1c2goY2xpZW50RGF0YSk7IC8vIFN0b3JlIHRoZSBzdWNjZXNzZnVsIGluc2VydCByZXN1bHRcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBpbnNlcnQgY2xpZW50OiAke25hbWV9YCwgZXJyb3IpO1xyXG4gICAgICBmYWlsZWRDbGllbnRzLnB1c2gobmFtZSk7IC8vIFN0b3JlIHRoZSBmYWlsZWQgY2xpZW50IG5hbWVcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIFJldHVybiB0aGUgcmVzdWx0c1xyXG4gIHJldHVybiB7XHJcbiAgICBpbnNlcnRlZENsaWVudHMsXHJcbiAgICBmYWlsZWRDbGllbnRzLFxyXG4gIH07XHJcbn0qL1xyXG5cclxuLypjb25zdCBjbGllbnRzID0gYXdhaXQgR2V0Q2xpZW50cygpOyovXHJcblxyXG4vKmNvbnN0IGNJRCA9IGNsaWVudHMuY2xpZW50SURzO1xyXG5jb25zb2xlLmxvZyhjSUQpO1xyXG5jb25zdCBwcm9qZWN0cyA9IFtcInByb2plY3QxXCIsIFwicHJvamVjdDJcIixcInByb2plY3QzXCIsXCJwcm9qZWN0NFwiXTtcclxuY29uc3QgIHByb2pOdW1iZXJzID0gW1wicHJvak51bWJlcjFcIixcInByb2pOdW1iZXIyXCIsXCJwcm9qTnVtYmVyM1wiLFwicHJvak51bWJlcjRcIl07Ki9cclxuXHJcbi8qSW5zZXJ0UHJvamVjdChwcm9qZWN0c1swXSxwcm9qTnVtYmVyc1swXSxjSURbMF0pO1xyXG5JbnNlcnRQcm9qZWN0KHByb2plY3RzWzFdLHByb2pOdW1iZXJzWzFdLGNJRFsxXSk7XHJcbkluc2VydFByb2plY3QocHJvamVjdHNbMl0scHJvak51bWJlcnNbMl0sY0lEWzJdKTtcclxuSW5zZXJ0UHJvamVjdChwcm9qZWN0c1szXSxwcm9qTnVtYmVyc1szXSxjSURbM10pOyovXHJcblxyXG4vKmNvbnN0IGNsaWVudE5hbWVzID0gW1wiQ2xpZW50NFwiXTsgLy8gRXhhbXBsZSBjbGllbnQgbmFtZXNcclxuXHJcbkluc2VydE11bHRpcGxlQ2xpZW50cyhjbGllbnROYW1lcylcclxuICAudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhcIlN1Y2Nlc3NmdWxseSBpbnNlcnRlZCBjbGllbnRzOlwiLCByZXN1bHQuaW5zZXJ0ZWRDbGllbnRzKTtcclxuICAgIGNvbnNvbGUubG9nKFwiRmFpbGVkIHRvIGluc2VydCBjbGllbnRzOlwiLCByZXN1bHQuZmFpbGVkQ2xpZW50cyk7XHJcbiAgfSlcclxuICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW5zZXJ0aW5nIGNsaWVudHM6XCIsIGVycm9yKTtcclxuICB9KTsqL1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdldENsaWVudHMoKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgZXJyb3JzLCBkYXRhIH0gPSBhd2FpdCBjbGllbnQubW9kZWxzLkNsaWVudC5saXN0KCk7XHJcblxyXG4gICAgaWYgKGVycm9ycykge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3I6XCIsIGVycm9ycyk7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBmZXRjaCBjbGllbnRzLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBFeHRyYWN0IGNsaWVudCBuYW1lcyBhbmQgY2xpZW50IElEc1xyXG4gICAgY29uc3QgY2xpZW50TmFtZXMgPSBkYXRhLm1hcCgoY2xpZW50KSA9PiBjbGllbnQuQ2xpZW50TmFtZSk7XHJcbiAgICBjb25zdCBjbGllbnRJRHMgPSBkYXRhLm1hcCgoY2xpZW50KSA9PiBjbGllbnQuaWQpO1xyXG5cclxuICAgIC8vIFJldHVybiBib3RoIGNsaWVudCBuYW1lcyBhbmQgSURzIGluIGFuIG9iamVjdCBvciBhbiBhcnJheVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgY2xpZW50TmFtZXMsXHJcbiAgICAgIGNsaWVudElEcyxcclxuICAgIH07XHJcblxyXG4gICAgLy8gQWx0ZXJuYXRpdmVseSwgaWYgeW91IHdhbnQgdG8gcmV0dXJuIGFuIGFycmF5OlxyXG4gICAgLy8gcmV0dXJuIFtjbGllbnROYW1lcywgY2xpZW50SURzXTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yOlwiLCBlcnJvcik7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn1cclxuXHJcbi8qYXN5bmMgZnVuY3Rpb24gZmV0Y2hEYXRhKCkge1xyXG4gIGNvbnN0IGNsaWVudHMgPSBhd2FpdCBHZXRDbGllbnRzKCk7XHJcbiAgY29uc3QgY0lEID0gY2xpZW50cy5jbGllbnRJRHM7XHJcbiAgY29uc29sZS5sb2coY0lEKTtcclxuICBjb25zdCBwcm9qZWN0cyA9IFtcInByb2plY3QxXCIsIFwicHJvamVjdDJcIiwgXCJwcm9qZWN0M1wiLCBcInByb2plY3Q0XCJdO1xyXG4gIGNvbnN0IHByb2pOdW1iZXJzID0gW1wicHJvak51bWJlcjFcIiwgXCJwcm9qTnVtYmVyMlwiLCBcInByb2pOdW1iZXIzXCIsIFwicHJvak51bWJlcjRcIl07XHJcbiBcclxuICBhd2FpdCBJbnNlcnRQcm9qZWN0KHByb2plY3RzWzBdLCBwcm9qTnVtYmVyc1swXSwgY0lEWzBdKTtcclxuICBhd2FpdCBJbnNlcnRQcm9qZWN0KHByb2plY3RzWzFdLCBwcm9qTnVtYmVyc1sxXSwgY0lEWzFdKTtcclxuICBhd2FpdCBJbnNlcnRQcm9qZWN0KHByb2plY3RzWzJdLCBwcm9qTnVtYmVyc1syXSwgY0lEWzJdKTtcclxuICBhd2FpdCBJbnNlcnRQcm9qZWN0KHByb2plY3RzWzNdLCBwcm9qTnVtYmVyc1szXSwgY0lEWzNdKTtcclxufSovXHJcblxyXG4vL2ZldGNoRGF0YSgpLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdldFByb2plY3RzKCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IGVycm9ycywgZGF0YSB9ID0gYXdhaXQgY2xpZW50Lm1vZGVscy5Qcm9qZWN0dC5saXN0KCk7XHJcblxyXG4gICAgaWYgKGVycm9ycykge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3I6XCIsIGVycm9ycyk7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBmZXRjaCBwcm9qZWN0cy5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2VwYXJhdGUgcHJvamVjdElEcyBhbmQgcHJvamVjdE5hbWVzXHJcbiAgICBjb25zdCBwcm9qZWN0SURzID0gZGF0YS5tYXAoKHByb2plY3QpID0+IHByb2plY3QucHJvamVjdElEKTsgLy8gTGlzdCBvZiBhbGwgcHJvamVjdElEc1xyXG4gICAgY29uc3QgcHJvamVjdE5hbWVzID0gZGF0YS5tYXAoKHByb2plY3QpID0+IHByb2plY3QucHJvamVjdE5hbWUpOyAvLyBMaXN0IG9mIGFsbCBwcm9qZWN0TmFtZXNcclxuXHJcbiAgICAvLyBSZXR1cm4gYm90aCBzZXBhcmF0ZWx5XHJcbiAgICByZXR1cm4geyBwcm9qZWN0SURzLCBwcm9qZWN0TmFtZXMgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yOlwiLCBlcnJvcik7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHZXRGb3JtU3RhdHMoKSB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIEZldGNoIGFsbCBmb3Jtc1xyXG4gICAgY29uc3QgeyBkYXRhOiBmb3JtcywgZXJyb3JzIH0gPSBhd2FpdCBjbGllbnQubW9kZWxzLkZvcm0ubGlzdCgpO1xyXG5cclxuICAgIGlmIChlcnJvcnMpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihlcnJvcnMpO1xyXG4gICAgICByZXR1cm4geyB2aXNpdHM6IDAsIHN1Ym1pc3Npb25zOiAwLCBzdWJtaXNzaW9uUmF0ZTogMCwgYm91bmNlUmF0ZTogMCB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENhbGN1bGFyIHN0YXRzIGNvbSBUT0RPUyBvcyBmb3JtcyAoc2VtIGZpbHRyYXIgdXNlcklkKVxyXG4gICAgY29uc3QgdmlzaXRzID0gZm9ybXMucmVkdWNlKChzdW0sIGZvcm0pID0+IHN1bSArIChmb3JtLnZpc2l0cyB8fCAwKSwgMCk7XHJcbiAgICBjb25zdCBzdWJtaXNzaW9ucyA9IGZvcm1zLnJlZHVjZShcclxuICAgICAgKHN1bSwgZm9ybSkgPT4gc3VtICsgKGZvcm0uc3VibWlzc2lvbnMgfHwgMCksXHJcbiAgICAgIDAsXHJcbiAgICApO1xyXG5cclxuICAgIGxldCBzdWJtaXNzaW9uUmF0ZSA9IDA7XHJcbiAgICBpZiAodmlzaXRzID4gMCkge1xyXG4gICAgICBzdWJtaXNzaW9uUmF0ZSA9IChzdWJtaXNzaW9ucyAvIHZpc2l0cykgKiAxMDA7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgYm91bmNlUmF0ZSA9IDEwMCAtIHN1Ym1pc3Npb25SYXRlO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHZpc2l0cyxcclxuICAgICAgc3VibWlzc2lvbnMsXHJcbiAgICAgIHN1Ym1pc3Npb25SYXRlLFxyXG4gICAgICBib3VuY2VSYXRlLFxyXG4gICAgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIGZvcm0gc3RhdHM6XCIsIGVycm9yKTtcclxuICAgIHJldHVybiB7IHZpc2l0czogMCwgc3VibWlzc2lvbnM6IDAsIHN1Ym1pc3Npb25SYXRlOiAwLCBib3VuY2VSYXRlOiAwIH07XHJcbiAgfVxyXG59XHJcblxyXG5cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHZXRGb3JtcygpIHtcclxuICB0cnkge1xyXG4gICAgXHJcbiAgICBjb25zdCB7IGRhdGE6IGZvcm1zLCBlcnJvcnMgfSA9IGF3YWl0IGNsaWVudC5tb2RlbHMuRm9ybS5saXN0KCk7XHJcblxyXG4gICAgaWYgKGVycm9ycykge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGVycm9ycyk7XHJcbiAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuICAgIC8vY29uc29sZS5sb2coXCJGb3JtczpcIiwgZm9ybXMpO1xyXG4gICAgcmV0dXJuIGZvcm1zO1xyXG4gICAgXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBmb3JtczpcIiwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIFtdO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHZXRGb3JtQnlJZChpZDogc3RyaW5nKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgZGF0YTogZm9ybSwgZXJyb3JzIH0gPSBhd2FpdCBjbGllbnQubW9kZWxzLkZvcm0uZ2V0KHsgaWQgfSk7XHJcblxyXG4gICAgaWYgKGVycm9ycykge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGVycm9ycyk7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghZm9ybSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGb3JtIG5vdCBmb3VuZC5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHByb2plY3ROYW1lID0gbnVsbDtcclxuICAgIGxldCBjbGllbnROYW1lID0gbnVsbDtcclxuICAgIGxldCBzaGFyZVVSTCA9IG51bGw7XHJcblxyXG4gICAgaWYgKGZvcm0ucHJvaklEKSB7XHJcbiAgICAgIGNvbnN0IHsgZGF0YTogcHJvamVjdERhdGEsIGVycm9yczogcHJvamVjdEVycm9ycyB9ID0gYXdhaXQgY2xpZW50Lm1vZGVscy5Qcm9qZWN0dC5saXN0KHtcclxuICAgICAgICBmaWx0ZXI6IHsgcHJvamVjdElEOiB7IGVxOiBmb3JtLnByb2pJRCB9IH0sXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKHByb2plY3RFcnJvcnMpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKHByb2plY3RFcnJvcnMpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBwcm9qZWN0ID0gcHJvamVjdERhdGE/LlswXTtcclxuICAgICAgaWYgKHByb2plY3QpIHtcclxuICAgICAgICBwcm9qZWN0TmFtZSA9IHByb2plY3QucHJvamVjdE5hbWU7XHJcblxyXG4gICAgICAgIGlmIChwcm9qZWN0LkNsaWVudElEKSB7XHJcbiAgICAgICAgICBjb25zdCB7IGRhdGE6IGNsaWVudERhdGEsIGVycm9yczogY2xpZW50RXJyb3JzIH0gPSBhd2FpdCBjbGllbnQubW9kZWxzLkNsaWVudC5nZXQoe1xyXG4gICAgICAgICAgICBpZDogcHJvamVjdC5DbGllbnRJRCxcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIGlmIChjbGllbnRFcnJvcnMpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihjbGllbnRFcnJvcnMpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmIChjbGllbnREYXRhKSB7XHJcbiAgICAgICAgICAgIGNsaWVudE5hbWUgPSBjbGllbnREYXRhLkNsaWVudE5hbWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmV0b3JuYXIgdGFtYsOpbSB2aXNpdGFzIGUgc3VibWlzc8O1ZXNcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGZvcm0sXHJcbiAgICAgIHByb2plY3ROYW1lLFxyXG4gICAgICBjbGllbnROYW1lLFxyXG4gICAgICBzaGFyZVVSTDogZm9ybS5zaGFyZVVSTCxcclxuICAgICAgdmlzaXRzOiBmb3JtLnZpc2l0cyA/PyAwLFxyXG4gICAgICBzdWJtaXNzaW9uczogZm9ybS5zdWJtaXNzaW9ucyA/PyAwLFxyXG4gICAgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIGZvcm0gYnkgSUQ6XCIsIGVycm9yKTtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBVcGRhdGVGb3JtQ29udGVudChpZDogc3RyaW5nLCBjb250ZW50OiBhbnkpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgZm9ybSA9IHtcclxuICAgICAgaWQsXHJcbiAgICAgIGNvbnRlbnQsXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IHsgZGF0YTogdXBkYXRlZEZvcm0sIGVycm9ycyB9ID0gYXdhaXQgY2xpZW50Lm1vZGVscy5Gb3JtLnVwZGF0ZShmb3JtKTtcclxuXHJcbiAgICBpZiAoZXJyb3JzKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3JzKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIHVwZGF0ZSBmb3JtIGNvbnRlbnQuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB1cGRhdGVkRm9ybTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIHVwZGF0aW5nIGZvcm0gY29udGVudDpcIiwgZXJyb3IpO1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIHVwZGF0ZSBmb3JtIGNvbnRlbnQuXCIpO1xyXG4gIH1cclxufVxyXG5cclxuLy8gRGVmaW5lIHlvdXIgc2VydmVyLXNpZGUgYWN0aW9uXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzYXZlRm9ybUFjdGlvbihmb3JtRGF0YTogRm9ybURhdGEpIHtcclxuICBjb25zdCBpZCA9IGZvcm1EYXRhLmdldChcImlkXCIpIGFzIHN0cmluZztcclxuICBjb25zdCBjb250ZW50ID0gZm9ybURhdGEuZ2V0KFwiY29udGVudFwiKSBhcyBzdHJpbmc7XHJcblxyXG4gIC8vIENhbGwgeW91ciBleGlzdGluZyBzZXJ2ZXItc2lkZSBmdW5jdGlvbiAoVXBkYXRlRm9ybUNvbnRlbnQpXHJcbiAgYXdhaXQgVXBkYXRlRm9ybUNvbnRlbnQoaWQsIGNvbnRlbnQpO1xyXG59XHJcbi8qY29uc3QgZGF0YSA9IFtcclxuICBbJ1NlY3Rpb24gMScsICdBJywgJ0InLCAnQycsICdEJywgJ0UnLCAnRiddLFxyXG4gIFsnRScsICdGJywgJ0cnLCAnSCcsICdJJ10sXHJcbiAgWydKJywgJ0snLCAnTCcsICdNJywgJ04nXSxcclxuXTtcclxuXHJcbi8vIENvbnZlcnQgdGhlIGRhdGEgdG8gYSBKU09OIHN0cmluZ1xyXG5jb25zdCBjb250ZW50ID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XHJcblxyXG5cclxuVXBkYXRlRm9ybUNvbnRlbnQoXCJiNWExMWQ3Ny1mZWY3LTQzMzAtODQ3OS1kYjVkN2FlYTNhZmZcIiwgY29udGVudClcclxuICAudGhlbih1cGRhdGVkRm9ybSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZygnRm9ybSB1cGRhdGVkOicsIHVwZGF0ZWRGb3JtKTtcclxuICB9KVxyXG4gIC5jYXRjaChlcnJvciA9PiB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBmb3JtOicsIGVycm9yKTtcclxuICB9KTtcclxuKi9cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQdWJsaXNoRm9ybShpZDogc3RyaW5nLCBjb250ZW50OiBzdHJpbmcsIHNoYXJlVVJMOiBzdHJpbmcpIHtcclxuICB0cnkge1xyXG5cclxuICAgIGNvbnN0IGZvcm0gPSB7XHJcbiAgICAgIGlkOiBpZCxcclxuICAgICAgY29udGVudDogY29udGVudCxcclxuICAgICAgc2hhcmVVUkw6IHNoYXJlVVJMLFxyXG4gICAgICBwdWJsaXNoZWQ6IHRydWUsXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IHsgZGF0YTogdXBkYXRlZEZvcm0sIGVycm9ycyB9ID0gYXdhaXQgY2xpZW50Lm1vZGVscy5Gb3JtLnVwZGF0ZShmb3JtKTtcclxuXHJcbiAgICBpZiAoZXJyb3JzKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3JzKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIHB1Ymxpc2ggdGhlIGZvcm0uXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB1cGRhdGVkRm9ybTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIHB1Ymxpc2hpbmcgZm9ybTpcIiwgZXJyb3IpO1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIHB1Ymxpc2ggdGhlIGZvcm0uXCIpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHB1Ymxpc2hGb3JtQWN0aW9uKGZvcm1EYXRhOiBGb3JtRGF0YSkge1xyXG4gIGNvbnN0IGlkID0gZm9ybURhdGEuZ2V0KFwiaWRcIikgYXMgc3RyaW5nO1xyXG4gIGNvbnN0IGNvbnRlbnQgPSBmb3JtRGF0YS5nZXQoXCJjb250ZW50XCIpIGFzIHN0cmluZztcclxuICBjb25zdCBzaGFyZVVSTCA9IGZvcm1EYXRhLmdldChcInNoYXJlVVJMXCIpIGFzIHN0cmluZztcclxuXHJcbiAgYXdhaXQgUHVibGlzaEZvcm0oaWQsIGNvbnRlbnQsIHNoYXJlVVJMKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdldEZvcm1Db250ZW50QnlVcmwoZm9ybVVybDogc3RyaW5nKSB7XHJcbiAgdHJ5IHtcclxuICAgIFxyXG4gICAgLy9jb25zdCBmb3JtVVJMID0gYC9zdWJtaXQvJHtmb3JtVXJsfWA7XHJcbiAgICBjb25zdCBmb3JtVVJMID0gZm9ybVVybC5zdGFydHNXaXRoKCcvc3VibWl0LycpID8gZm9ybVVybCA6IGAvc3VibWl0LyR7Zm9ybVVybH1gO1xyXG4gICAgY29uc3QgeyBkYXRhOiBmb3JtcywgZXJyb3JzIH0gPSBhd2FpdCBjbGllbnQubW9kZWxzLkZvcm0ubGlzdCh7XHJcbiAgICAgIGZpbHRlcjogeyBzaGFyZVVSTDogeyBlcTogZm9ybVVSTCB9IH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoZXJyb3JzIHx8ICFmb3JtcyB8fCBmb3Jtcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgY29uc29sZS5lcnJvcihlcnJvcnMgfHwgXCJGb3JtIG5vdCBmb3VuZCwgcGxlYXNlIHRyeSBhZ2Fpbi5cIik7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkZvcm0gbm90IGZvdW5kLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBmb3JtID0gZm9ybXNbMF07XHJcbiAgICBjb25zdCB1cGRhdGVkVmlzaXRzID0gZm9ybS52aXNpdHMgPyBmb3JtLnZpc2l0cyArIDEgOiAxO1xyXG5cclxuICAgIGNvbnN0IHVwZGF0ZWRGb3JtID0ge1xyXG4gICAgICBpZDogZm9ybS5pZCxcclxuICAgICAgdmlzaXRzOiB1cGRhdGVkVmlzaXRzLFxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCB7IGVycm9yczogdXBkYXRlRXJyb3JzIH0gPVxyXG4gICAgICBhd2FpdCBjbGllbnQubW9kZWxzLkZvcm0udXBkYXRlKHVwZGF0ZWRGb3JtKTtcclxuXHJcbiAgICBpZiAodXBkYXRlRXJyb3JzKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IodXBkYXRlRXJyb3JzKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIHVwZGF0ZSBmb3JtIHZpc2l0cy5cIik7XHJcbiAgICB9XHJcbiAgICAvL2NvbnNvbGUubG9nKFwiZm9ybTpcIiwgZm9ybSk7XHJcbiAgICByZXR1cm4gZm9ybTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIGZvcm0gY29udGVudCBieSBVUkw6XCIsIGVycm9yKTtcclxuICAgIHRocm93IG5ldyBFcnJvcihcIkVycm9yIGZldGNoaW5nIGZvcm0gY29udGVudCBieSBVUkwuXCIpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFN1Ym1pdEZvcm0oZm9ybUlkOiBzdHJpbmcsIHRhZ0lkOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZykge1xyXG4gIGNvbnN0IHN1Ym1pc3Npb24gPSB7XHJcbiAgICBmb3JtSWQsXHJcbiAgICBjb250ZW50LFxyXG4gICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgfTtcclxuICBcclxuICBjb25zdCB7IGRhdGE6IHN1Ym1pc3Npb25EYXRhIH0gPSBhd2FpdCBjbGllbnQubW9kZWxzLkZvcm1TdWJtaXNzaW9ucy5jcmVhdGUoc3VibWlzc2lvbik7XHJcblxyXG4gIGlmICghc3VibWlzc2lvbkRhdGE/LmlkKSB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciB0byBjcmVhdGUgdGhlIHN1Ym1zc2lvblwiKTtcclxuXHJcbiAgY29uc3Qgc3VibWlzc2lvbklkID0gc3VibWlzc2lvbkRhdGEuaWQ7XHJcblxyXG4gIGNvbnN0IHsgZGF0YTogZm9ybUxpc3QgfSA9IGF3YWl0IGNsaWVudC5tb2RlbHMuRm9ybS5saXN0KHtcclxuICAgIGZpbHRlcjogeyBpZDogeyBlcTogZm9ybUlkIH0gfSxcclxuICB9KTtcclxuXHJcbiAgY29uc3QgZm9ybSA9IGZvcm1MaXN0WzBdO1xyXG4gIGF3YWl0IGNsaWVudC5tb2RlbHMuRm9ybS51cGRhdGUoe1xyXG4gICAgaWQ6IGZvcm0uaWQsXHJcbiAgICBzdWJtaXNzaW9uczogKGZvcm0uc3VibWlzc2lvbnMgfHwgMCkgKyAxLFxyXG4gIH0pO1xyXG5cclxuICBjb25zdCB7IGRhdGE6IGZvcm1UYWdzIH0gPSBhd2FpdCBjbGllbnQubW9kZWxzLkZvcm1UYWcyLmxpc3Qoe1xyXG4gICAgZmlsdGVyOiB7IHRhZ0lEOiB7IGVxOiB0YWdJZCB9IH0sXHJcbiAgfSk7XHJcblxyXG4gIGlmICghZm9ybVRhZ3MubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoXCJGb3JtVGFnMiBub3QgZm91bmRcIik7XHJcblxyXG4gIGF3YWl0IGNsaWVudC5tb2RlbHMuRm9ybVRhZzIudXBkYXRlKHtcclxuICAgIGlkOiBmb3JtVGFnc1swXS5pZCxcclxuICAgIGNvbnRlbnRUZXN0OiBzdWJtaXNzaW9uSWQsXHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBzdWJtaXNzaW9uRGF0YTtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzdWJtaXRGb3JtQWN0aW9uKGZvcm1EYXRhOiBGb3JtRGF0YSkge1xyXG4gIGNvbnN0IGZvcm1JZCA9IGZvcm1EYXRhLmdldChcImZvcm1JZFwiKSBhcyBzdHJpbmc7XHJcbiAgY29uc3QgdGFnSWQgPSBmb3JtRGF0YS5nZXQoXCJ0YWdJZFwiKSBhcyBzdHJpbmc7XHJcbiAgY29uc3QgcmF3UmVzcG9uc2VzID0gZm9ybURhdGEuZ2V0KFwicmVzcG9uc2VzXCIpIGFzIHN0cmluZztcclxuICBjb25zdCByYXdGb3JtQ29udGVudCA9IGZvcm1EYXRhLmdldChcImZvcm1Db250ZW50XCIpIGFzIHN0cmluZztcclxuXHJcbiAgY29uc3Qgc3VibWlzc2lvbiA9IHtcclxuICAgIHJlc3BvbnNlczogSlNPTi5wYXJzZShyYXdSZXNwb25zZXMpLFxyXG4gICAgZm9ybUNvbnRlbnQ6IEpTT04ucGFyc2UocmF3Rm9ybUNvbnRlbnQpLFxyXG4gICAgc3VibWl0dGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICB9O1xyXG5cclxuICBjb25zdCBqc29uQ29udGVudCA9IEpTT04uc3RyaW5naWZ5KHN1Ym1pc3Npb24pO1xyXG4gIGF3YWl0IFN1Ym1pdEZvcm0oZm9ybUlkLCB0YWdJZCwganNvbkNvbnRlbnQpO1xyXG59XHJcblxyXG5cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHZXRGb3JtV2l0aFN1Ym1pc3Npb25zKGlkOiBzdHJpbmcpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBkYXRhOiBmb3JtLCBlcnJvcnMgfSA9IGF3YWl0IGNsaWVudC5tb2RlbHMuRm9ybS5nZXQoeyBpZCB9KTtcclxuXHJcbiAgICBpZiAoZXJyb3JzKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3JzKTtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGZvcm0pIHtcclxuICAgICAgY29uc3QgeyBkYXRhOiBzdWJtaXNzaW9ucywgZXJyb3JzOiBzdWJtaXNzaW9uRXJyb3JzIH0gPVxyXG4gICAgICAgIGF3YWl0IGNsaWVudC5tb2RlbHMuRm9ybVN1Ym1pc3Npb25zLmxpc3Qoe1xyXG4gICAgICAgICAgZmlsdGVyOiB7IGZvcm1JZDogeyBlcTogZm9ybS5pZCB9IH0sXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAoc3VibWlzc2lvbkVycm9ycykge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3Ioc3VibWlzc2lvbkVycm9ycyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB7IGZvcm0sIHN1Ym1pc3Npb25zIH07XHJcbiAgICB9XHJcblxyXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRm9ybSBub3QgZm91bmQuXCIpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgZm9ybSB3aXRoIHN1Ym1pc3Npb25zOlwiLCBlcnJvcik7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggZm9ybSB3aXRoIHN1Ym1pc3Npb25zLlwiKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHZXRTdWJtaXNzaW9uV2l0aFRhZ0luZm8oc3VibWlzc2lvbklkOiBzdHJpbmcpIHtcclxuXHJcbiAgY29uc3Qgc3VibWlzc2lvblJlc3BvbnNlID0gYXdhaXQgY2xpZW50Lm1vZGVscy5Gb3JtU3VibWlzc2lvbnMuZ2V0KHsgaWQ6IHN1Ym1pc3Npb25JZCB9KTtcclxuXHJcblxyXG4gIGNvbnN0IHN1Ym1pc3Npb24gPSBzdWJtaXNzaW9uUmVzcG9uc2UuZGF0YTtcclxuICBpZiAoIXN1Ym1pc3Npb24pIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihcIkZvcm1TdWJtaXNzaW9uIG5vdCBmb3VuZC5cIik7XHJcbiAgfVxyXG5cclxuICBjb25zdCBmb3JtSWQgPSBzdWJtaXNzaW9uLmZvcm1JZDtcclxuICBpZiAoIWZvcm1JZCkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiZm9ybUlkIG5vdCBmb3VuZCBpbiBzdWJtaXNzaW9ucy5cIik7XHJcbiAgfVxyXG5cclxuICBjb25zdCBmb3JtVGFnc1Jlc3BvbnNlID0gYXdhaXQgY2xpZW50Lm1vZGVscy5Gb3JtVGFnMi5saXN0KHtcclxuICAgIGZpbHRlcjoge1xyXG4gICAgICBjb250ZW50VGVzdDogeyBjb250YWluczogc3VibWlzc2lvbklkIH0sXHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG5cclxuICBpZiAoIWZvcm1UYWdzUmVzcG9uc2UuZGF0YS5sZW5ndGgpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihcIkZvcm1UYWcyIG5vdCBmb3VuZCB3aXRoIHRoZSBhc3NvY2lhdGVkIGNvbnRlbnRUZXN0LlwiKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGZvcm1UYWcgPSBmb3JtVGFnc1Jlc3BvbnNlLmRhdGFbMF07XHJcblxyXG4gIGNvbnN0IGVxdWlwbWVudFRhZ1Jlc3BvbnNlID0gYXdhaXQgY2xpZW50Lm1vZGVscy5FcXVpcG1lbnRUYWcyLmdldCh7XHJcbiAgICBpZDogZm9ybVRhZy50YWdJRCA/PyBcIlwiLCBcclxuICB9KTtcclxuXHJcbiAgaWYgKCFlcXVpcG1lbnRUYWdSZXNwb25zZS5kYXRhKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcXVpcG1lbnRUYWcyIG5vdCBmb3VuZC5cIik7XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgZm9ybUlkOiBmb3JtSWQsXHJcbiAgICBzdWJtaXNzaW9uSWQ6IHN1Ym1pc3Npb24uaWQsXHJcbiAgICBzdWJtaXR0ZWRBdDogc3VibWlzc2lvbi5jcmVhdGVkQXQsXHJcbiAgICBlcXVpcG1lbnROYW1lOiBlcXVpcG1lbnRUYWdSZXNwb25zZS5kYXRhLkVxdWlwbWVudE5hbWUgPz8gXCJObyBuYW1lXCIsXHJcbiAgICB0YWc6IGVxdWlwbWVudFRhZ1Jlc3BvbnNlLmRhdGEuVGFnID8/IFwiTm8gdGFnXCIsXHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdldEZvcm1XaXRoU3VibWlzc2lvbkRldGFpbHMoaWQ6IHN0cmluZykge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBGZXRjaCB0aGUgZm9ybSB3aXRoIHN1Ym1pc3Npb25zXHJcbiAgICBjb25zdCB7IGRhdGE6IGZvcm0sIGVycm9yczogZm9ybUVycm9ycyB9ID0gYXdhaXQgY2xpZW50Lm1vZGVscy5Gb3JtLmdldCh7IGlkIH0pO1xyXG5cclxuICAgIGlmIChmb3JtRXJyb3JzKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoZm9ybUVycm9ycyk7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghZm9ybSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGb3JtIG5vdCBmb3VuZC5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRmV0Y2ggdGhlIHN1Ym1pc3Npb25zIHJlbGF0ZWQgdG8gdGhlIGZvcm1cclxuICAgIGNvbnN0IHsgZGF0YTogc3VibWlzc2lvbnMsIGVycm9yczogc3VibWlzc2lvbkVycm9ycyB9ID0gYXdhaXQgY2xpZW50Lm1vZGVscy5Gb3JtU3VibWlzc2lvbnMubGlzdCh7XHJcbiAgICAgIGZpbHRlcjogeyBmb3JtSWQ6IHsgZXE6IGZvcm0uaWQgfSB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKHN1Ym1pc3Npb25FcnJvcnMpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihzdWJtaXNzaW9uRXJyb3JzKTtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRmV0Y2ggYWRkaXRpb25hbCB0YWcgYW5kIGVxdWlwbWVudCBkZXRhaWxzIGZvciBlYWNoIHN1Ym1pc3Npb25cclxuICAgIGNvbnN0IHN1Ym1pc3Npb25EZXRhaWxzID0gYXdhaXQgUHJvbWlzZS5hbGwoXHJcbiAgICAgIHN1Ym1pc3Npb25zLm1hcChhc3luYyAoc3VibWlzc2lvbikgPT4ge1xyXG4gICAgICAgIGNvbnN0IGZvcm1JZCA9IHN1Ym1pc3Npb24uZm9ybUlkO1xyXG4gICAgICAgIGNvbnN0IHN1Ym1pc3Npb25JZCA9IHN1Ym1pc3Npb24uaWQ7XHJcblxyXG4gICAgICAgIC8vIEZldGNoIHRoZSBhc3NvY2lhdGVkIHRhZyBhbmQgZXF1aXBtZW50IGluZm9cclxuICAgICAgICBjb25zdCBmb3JtVGFnc1Jlc3BvbnNlID0gYXdhaXQgY2xpZW50Lm1vZGVscy5Gb3JtVGFnMi5saXN0KHtcclxuICAgICAgICAgIGZpbHRlcjoge1xyXG4gICAgICAgICAgICBjb250ZW50VGVzdDogeyBjb250YWluczogc3VibWlzc2lvbklkIH0sIC8vIEZpbmQgcmVsYXRlZCB0YWdzIGJ5IHN1Ym1pc3Npb24gSURcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICghZm9ybVRhZ3NSZXNwb25zZS5kYXRhLmxlbmd0aCkge1xyXG4gICAgICAgICAgcmV0dXJuIHsgLi4uc3VibWlzc2lvbiwgZXJyb3I6IFwiTm8gZm9ybSB0YWcgZm91bmQgZm9yIHRoaXMgc3VibWlzc2lvbi5cIiB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZm9ybVRhZyA9IGZvcm1UYWdzUmVzcG9uc2UuZGF0YVswXTtcclxuICAgICAgICBjb25zdCBlcXVpcG1lbnRUYWdSZXNwb25zZSA9IGF3YWl0IGNsaWVudC5tb2RlbHMuRXF1aXBtZW50VGFnMi5nZXQoe1xyXG4gICAgICAgICAgaWQ6IGZvcm1UYWcudGFnSUQgPz8gXCJcIiwgLy8gVXNlIHRoZSB0YWdJRCBmcm9tIEZvcm1UYWcyXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICghZXF1aXBtZW50VGFnUmVzcG9uc2UuZGF0YSkge1xyXG4gICAgICAgICAgcmV0dXJuIHsgLi4uc3VibWlzc2lvbiwgZXJyb3I6IFwiTm8gZXF1aXBtZW50IHRhZyBmb3VuZCBmb3IgdGhpcyBzdWJtaXNzaW9uLlwiIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgZm9ybUlkLFxyXG4gICAgICAgICAgc3VibWlzc2lvbklkLFxyXG4gICAgICAgICAgc3VibWl0dGVkQXQ6IHN1Ym1pc3Npb24uY3JlYXRlZEF0LFxyXG4gICAgICAgICAgZXF1aXBtZW50TmFtZTogZXF1aXBtZW50VGFnUmVzcG9uc2UuZGF0YS5FcXVpcG1lbnROYW1lID8/IFwiTm8gRXF1aXBtZW50IE5hbWVcIixcclxuICAgICAgICAgIHRhZzogZXF1aXBtZW50VGFnUmVzcG9uc2UuZGF0YS5UYWcgPz8gXCJObyBFcXVpcG1lbnQgVGFnXCIsXHJcbiAgICAgICAgfTtcclxuICAgICAgfSlcclxuICAgICk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZm9ybSxcclxuICAgICAgc3VibWlzc2lvbnM6IHN1Ym1pc3Npb25EZXRhaWxzLFxyXG4gICAgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIGZvcm0gd2l0aCBzdWJtaXNzaW9uIGRldGFpbHM6XCIsIGVycm9yKTtcclxuICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBmZXRjaCBmb3JtIGFuZCBzdWJtaXNzaW9uIGRldGFpbHMuXCIpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdldEZvcm1TdWJtaXNzaW9uQnlJZChzdWJtaXNzaW9uSWQ6IHN0cmluZykge1xyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBkYXRhOiBjb250ZW50LCBlcnJvcnMgfSA9IGF3YWl0IGNsaWVudC5tb2RlbHMuRm9ybVN1Ym1pc3Npb25zLmdldCh7IGlkOiBzdWJtaXNzaW9uSWQgfSk7XHJcbiAgICBpZiAoZXJyb3JzKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBmb3JtOlwiLCBlcnJvcnMpO1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIGlmICghY29udGVudCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb250ZW50IG5vdCBmb3VuZC5cIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gIGNvbnRlbnQgO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW4gR2V0Rm9ybVN1Ym1pc3Npb25CeUlkOlwiLCBlcnJvcik7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG59XHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHZXRFcXVpcG1lbnRUYWdzRm9yRm9ybShpZDogc3RyaW5nKSB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIEZldGNoIHRoZSBmb3JtIGRhdGFcclxuICAgIGNvbnN0IHsgZGF0YTogZm9ybSwgZXJyb3JzIH0gPSBhd2FpdCBjbGllbnQubW9kZWxzLkZvcm0uZ2V0KHsgaWQgfSk7XHJcblxyXG4gICAgaWYgKGVycm9ycykge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgZm9ybTpcIiwgZXJyb3JzKTtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFmb3JtKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkZvcm0gbm90IGZvdW5kLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBGZXRjaCBlcXVpcG1lbnQgdGFncyByZWxhdGVkIHRvIHRoZSBmb3JtXHJcbiAgICBjb25zdCB7IGRhdGE6IGVxdWlwbWVudFRhZ3MsIGVycm9yczogZXF1aXBtZW50VGFnc0Vycm9ycyB9ID1cclxuICAgICAgYXdhaXQgY2xpZW50Lm1vZGVscy5Gb3JtVGFnMi5saXN0KHtcclxuICAgICAgICBmaWx0ZXI6IHsgZm9ybUlEOiB7IGVxOiBmb3JtLmlkIH0gfSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgaWYgKGVxdWlwbWVudFRhZ3NFcnJvcnMpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIGVxdWlwbWVudCB0YWdzOlwiLCBlcXVpcG1lbnRUYWdzRXJyb3JzKTtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFlcXVpcG1lbnRUYWdzIHx8IGVxdWlwbWVudFRhZ3MubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiTm8gZXF1aXBtZW50IHRhZ3MgZm91bmQuXCIpO1xyXG4gICAgICByZXR1cm4geyBmb3JtLCBlcXVpcG1lbnRUYWdzOiBbXSB9O1xyXG4gICAgfVxyXG5cclxuICAgICAgLy8gRmV0Y2ggcmVsYXRlZCBlcXVpcG1lbnQgZGV0YWlscyBmb3IgZWFjaCB0YWdcclxuICAgIGNvbnN0IGVxdWlwbWVudERldGFpbHMgPSBhd2FpdCBQcm9taXNlLmFsbChcclxuICAgICAgZXF1aXBtZW50VGFncy5tYXAoYXN5bmMgKHRhZykgPT4ge1xyXG4gICAgICAgIC8vIEVuc3VyZSB0aGF0IHRhZy50YWdJRCBpcyB2YWxpZCBiZWZvcmUgbWFraW5nIHRoZSBBUEkgY2FsbFxyXG4gICAgICAgIGNvbnN0IGVxdWlwbWVudFRhZyA9IHRhZy50YWdJRCA/IGF3YWl0IGNsaWVudC5tb2RlbHMuRXF1aXBtZW50VGFnMi5nZXQoeyBpZDogdGFnLnRhZ0lEIH0pIDogbnVsbDtcclxuXHJcbiAgICAgICAgaWYgKGVxdWlwbWVudFRhZykge1xyXG4gICAgICAgICAgcmV0dXJuIGVxdWlwbWVudFRhZztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIkludmFsaWQgdGFnSUQ6XCIsIHRhZy50YWdJRCk7XHJcbiAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICApO1xyXG5cclxuICAgIFxyXG5cclxuICAgIHJldHVybiB7IGZvcm0sIGVxdWlwbWVudFRhZ3M6IGVxdWlwbWVudERldGFpbHMuZmlsdGVyKHRhZyA9PiB0YWcgIT09IG51bGwpIH07XHJcblxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgZXF1aXBtZW50IHRhZ3MgZm9yIGZvcm06XCIsIGVycm9yKTtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHZXRDbGllbnRXaXRoUHJvamVjdHMoQ2xpZW50SUQ6IHN0cmluZykge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IGVycm9ycywgZGF0YSB9ID0gYXdhaXQgY2xpZW50Lm1vZGVscy5DbGllbnQuZ2V0KHsgaWQ6IENsaWVudElEIH0pO1xyXG5cclxuICAgIGlmIChlcnJvcnMgfHwgIWNsaWVudCkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgY2xpZW50OlwiLCBlcnJvcnMpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDbGllbnQgbm90IGZvdW5kLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBGZXRjaCBhbGwgcHJvamVjdHMgcmVsYXRlZCB0byB0aGlzIGNsaWVudFxyXG4gICAgY29uc3QgeyBkYXRhOiBwcm9qZWN0cywgZXJyb3JzOiBwcm9qZWN0RXJyb3JzIH0gPVxyXG4gICAgICBhd2FpdCBjbGllbnQubW9kZWxzLlByb2plY3R0Lmxpc3Qoe1xyXG4gICAgICAgIGZpbHRlcjogeyBDbGllbnRJRDogeyBlcTogQ2xpZW50SUQgfSB9LFxyXG4gICAgICB9KTtcclxuXHJcbiAgICBpZiAocHJvamVjdEVycm9ycykge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgcHJvamVjdHM6XCIsIHByb2plY3RFcnJvcnMpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7IC4uLmRhdGEsIHByb2plY3RzIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvcjpcIiwgZXJyb3IpO1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59XHJcblxyXG4vKkdldENsaWVudFdpdGhQcm9qZWN0cyhcIjFhZDc0YmNlLWJkOWQtNDEzMS04M2VmLWVmZmVjYmE3NGM3ZFwiKVxyXG4gIC50aGVuKChkYXRhKSA9PiBjb25zb2xlLmxvZyhcIkNsaWVudCB3aXRoIFByb2plY3RzOlwiLCBkYXRhKSlcclxuICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgY2xpZW50IHdpdGggcHJvamVjdHM6XCIsIGVycm9yKSk7Ki9cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHZXRGb3Jtc1dpdGhDbGllbnQoQ2xpZW50SUQ6IHN0cmluZykge1xyXG4gIGNvbnN0IHsgdXNlcklkIH0gPSBhd2FpdCBnZXRDdXJyZW50VXNlcigpO1xyXG4gIGlmICghdXNlcklkKSB7XHJcbiAgICB0aHJvdyBuZXcgVXNlck5vdEZvdW5kRXJyKCk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgLy8gRmV0Y2ggcHJvamVjdHMgbGlua2VkIHRvIHRoZSBDbGllbnRJRFxyXG4gICAgY29uc3QgeyBkYXRhOiBwcm9qZWN0cywgZXJyb3JzOiBwcm9qZWN0RXJyb3JzIH0gPVxyXG4gICAgICBhd2FpdCBjbGllbnQubW9kZWxzLlByb2plY3R0Lmxpc3Qoe1xyXG4gICAgICAgIGZpbHRlcjogeyBDbGllbnRJRDogeyBlcTogQ2xpZW50SUQgfSB9LFxyXG4gICAgICB9KTtcclxuICAgIGNvbnNvbGUubG9nKFwiUHJvamVjdHMgRm91bmQ6XCIsIHByb2plY3RzKTtcclxuICAgIGlmIChwcm9qZWN0RXJyb3JzIHx8ICFwcm9qZWN0cyB8fCBwcm9qZWN0cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgY29uc29sZS5lcnJvcihwcm9qZWN0RXJyb3JzIHx8IFwiTm8gcHJvamVjdHMgZm91bmQgZm9yIHRoaXMgY2xpZW50LlwiKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gcHJvamVjdHMgZm91bmQgZm9yIHRoaXMgY2xpZW50LlwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBGZXRjaCBmb3JtcyBmb3IgZWFjaCBwcm9qZWN0XHJcbiAgICBjb25zdCBmb3JtcyA9IGF3YWl0IFByb21pc2UuYWxsKFxyXG4gICAgICBwcm9qZWN0cy5tYXAoYXN5bmMgKHByb2plY3QpID0+IHtcclxuICAgICAgICBjb25zdCB7IGRhdGE6IHByb2plY3RGb3JtcyB9ID0gYXdhaXQgY2xpZW50Lm1vZGVscy5Gb3JtLmxpc3Qoe1xyXG4gICAgICAgICAgZmlsdGVyOiB7IHByb2pJRDogeyBlcTogcHJvamVjdC5wcm9qZWN0SUQgfSB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiUHJvamVjdCBJRDpcIiwgcHJvamVjdC5wcm9qZWN0SUQpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBGb3JtcyBmb3IgUHJvamVjdCAke3Byb2plY3QucHJvamVjdE5hbWV9OmAsIHByb2plY3RGb3Jtcyk7XHJcblxyXG4gICAgICAgIHJldHVybiBwcm9qZWN0Rm9ybXMubWFwKChmb3JtKSA9PiAoe1xyXG4gICAgICAgICAgLi4uZm9ybSxcclxuICAgICAgICAgIHByb2plY3ROYW1lOiBwcm9qZWN0LnByb2plY3ROYW1lLFxyXG4gICAgICAgIH0pKTtcclxuICAgICAgfSksXHJcbiAgICApO1xyXG5cclxuICAgIHJldHVybiBmb3Jtcy5mbGF0KCk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBmb3JtcyB3aXRoIGNsaWVudDpcIiwgZXJyb3IpO1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGZldGNoIGZvcm1zIGZvciB0aGUgY2xpZW50LlwiKTtcclxuICB9XHJcbn1cclxuXHJcbi8qR2V0Rm9ybXNXaXRoQ2xpZW50KFwiMWFkNzRiY2UtYmQ5ZC00MTMxLTgzZWYtZWZmZWNiYTc0YzdkXCIpXHJcbi50aGVuKChmb3JtcykgPT4gY29uc29sZS5sb2coXCJGb3JtczpcIiwgZm9ybXMpKVxyXG4uY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmVycm9yKFwiRXJyb3I6XCIsIGVycm9yKSk7Ki9cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHZXRGb3Jtc0luZm9ybWF0aW9uKCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IGVycm9yczogY2xpZW50RXJyb3JzLCBkYXRhOiBjbGllbnRzRGF0YSB9ID1cclxuICAgICAgYXdhaXQgY2xpZW50Lm1vZGVscy5DbGllbnQubGlzdCgpO1xyXG5cclxuICAgIGlmIChjbGllbnRFcnJvcnMpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yOlwiLCBjbGllbnRFcnJvcnMpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggZm9ybXMuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCByZXN1bHRzID0gW107XHJcblxyXG4gICAgZm9yIChjb25zdCBjbGllbnRJdGVtIG9mIGNsaWVudHNEYXRhKSB7XHJcbiAgICAgIGNvbnN0IHsgZXJyb3JzOiBwcm9qZWN0RXJyb3JzLCBkYXRhOiBwcm9qZWN0c0RhdGEgfSA9XHJcbiAgICAgICAgYXdhaXQgY2xpZW50Lm1vZGVscy5Qcm9qZWN0dC5saXN0KHtcclxuICAgICAgICAgIGZpbHRlcjogeyBDbGllbnRJRDogeyBlcTogY2xpZW50SXRlbS5pZCB9IH0sXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAocHJvamVjdEVycm9ycykge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvcjpcIiwgcHJvamVjdEVycm9ycyk7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgcHJvamVjdHNcIik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZvciAoY29uc3QgcHJvamVjdEl0ZW0gb2YgcHJvamVjdHNEYXRhKSB7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhgRmV0Y2hpbmcgZm9ybXMgZm9yIHByb2plY3Q6ICR7cHJvamVjdEl0ZW0ucHJvamVjdE5hbWV9LCBJRDogJHtwcm9qZWN0SXRlbS5wcm9qZWN0SUR9YCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHsgZXJyb3JzOiBmb3JtRXJyb3JzLCBkYXRhOiBmb3Jtc0RhdGEgfSA9XHJcbiAgICAgICAgICBhd2FpdCBjbGllbnQubW9kZWxzLkZvcm0ubGlzdCh7XHJcbiAgICAgICAgICAgIGZpbHRlcjogeyBwcm9qSUQ6IHsgZXE6IHByb2plY3RJdGVtLnByb2plY3RJRCB9IH0sIC8vIEVuc3VyZSB0aGUgY29ycmVjdCBrZXkgaXMgdXNlZFxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmIChmb3JtRXJyb3JzKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3I6XCIsIGZvcm1FcnJvcnMpO1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgZm9ybXNcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXN1bHRzLnB1c2goe1xyXG4gICAgICAgICAgY2xpZW50TmFtZTogY2xpZW50SXRlbS5DbGllbnROYW1lLFxyXG4gICAgICAgICAgcHJvamVjdE5hbWU6IHByb2plY3RJdGVtLnByb2plY3ROYW1lLFxyXG4gICAgICAgICAgcHJvamVjdElEOiBwcm9qZWN0SXRlbS5wcm9qZWN0SUQsXHJcbiAgICAgICAgICBmb3JtczogZm9ybXNEYXRhLm1hcCgoZm9ybSkgPT4gKHtcclxuICAgICAgICAgICAgaWQ6IGZvcm0uaWQsXHJcbiAgICAgICAgICAgIG5hbWU6IGZvcm0ubmFtZSxcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGZvcm0uZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgIHB1Ymxpc2hlZDogZm9ybS5wdWJsaXNoZWQsXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6IGZvcm0uY29udGVudCxcclxuICAgICAgICAgICAgY3JlYXRlZEF0OiBmb3JtLmNyZWF0ZWRBdCxcclxuICAgICAgICAgICAgdmlzaXRzOiBmb3JtLnZpc2l0cyxcclxuICAgICAgICAgICAgc3VibWlzc2lvbnM6IGZvcm0uc3VibWlzc2lvbnMsXHJcbiAgICAgICAgICB9KSksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIC8vY29uc29sZS5sb2coXCJSZXN1bHRzOlwiLCByZXN1bHRzKTtcclxuICAgIHJldHVybiByZXN1bHRzO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3JcIiwgZXJyb3IpO1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59XHJcblxyXG4vKmNvbnN0IGZvcm1zSW5mbyA9IGF3YWl0IEdldEZvcm1zSW5mb3JtYXRpb24oKVxyXG5jb25zb2xlLmxvZygnRm9ybSBJbmZvOicsIGZvcm1zSW5mbyk7Ki9cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHZXRQcm9qZWN0c0Zyb21DbGllbnROYW1lKENsaWVudE5hbWU6IHN0cmluZykge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBGZXRjaCBDbGllbnQgYmFzZWQgb24gQ2xpZW50TmFtZVxyXG4gICAgY29uc3QgeyBlcnJvcnMsIGRhdGE6IGNsaWVudERhdGEgfSA9IGF3YWl0IGNsaWVudC5tb2RlbHMuQ2xpZW50Lmxpc3Qoe1xyXG4gICAgICBmaWx0ZXI6IHsgQ2xpZW50TmFtZTogeyBlcTogQ2xpZW50TmFtZSB9IH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoZXJyb3JzIHx8IGNsaWVudERhdGEubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBjbGllbnQgb3IgY2xpZW50IG5vdCBmb3VuZDpcIiwgZXJyb3JzKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2xpZW50IG5vdCBmb3VuZC5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQXNzdW1pbmcgZWFjaCBjbGllbnQgaGFzIGFuIGFycmF5IG9mIHByb2plY3RzXHJcbiAgICBjb25zdCBDbGllbnRzID0gY2xpZW50RGF0YVswXTsgLy8gQXNzdW1pbmcgdGhlIGZpcnN0IGNsaWVudCBpbiB0aGUgbGlzdCBpcyB0aGUgb25lIHdlJ3JlIGludGVyZXN0ZWQgaW5cclxuICAgIGNvbnN0IHsgZGF0YTogcHJvamVjdHMsIGVycm9yczogcHJvamVjdEVycm9ycyB9ID1cclxuICAgICAgYXdhaXQgY2xpZW50Lm1vZGVscy5Qcm9qZWN0dC5saXN0KHtcclxuICAgICAgICBmaWx0ZXI6IHsgQ2xpZW50SUQ6IHsgZXE6IENsaWVudHMuaWQgfSB9LFxyXG4gICAgICB9KTtcclxuXHJcbiAgICBpZiAocHJvamVjdEVycm9ycykge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgcHJvamVjdHM6XCIsIHByb2plY3RFcnJvcnMpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgcHJvamVjdE5hbWVzID0gcHJvamVjdHMubWFwKChwcm9qZWN0KSA9PiBwcm9qZWN0LnByb2plY3ROYW1lKTtcclxuICAgIC8vIFJldHVybiBjbGllbnQgYW5kIGFzc29jaWF0ZWQgcHJvamVjdHNcclxuICAgIHJldHVybiB7IHByb2plY3ROYW1lcyB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3I6XCIsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIENyZWF0ZUZvcm0oXHJcbiAgbmFtZTogc3RyaW5nLFxyXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmcsXHJcbiAgcHJvamVjdE5hbWU6IHN0cmluZyxcclxuKSB7XHJcbiAgLy8gRmV0Y2ggdGhlIHByb2plY3QgZGV0YWlscyB1c2luZyBwcm9qZWN0TmFtZVxyXG4gIGNvbnN0IHsgZXJyb3JzOiBwcm9qZWN0RXJyb3JzLCBkYXRhOiBwcm9qZWN0c0RhdGEgfSA9XHJcbiAgICBhd2FpdCBjbGllbnQubW9kZWxzLlByb2plY3R0Lmxpc3Qoe1xyXG4gICAgICBmaWx0ZXI6IHsgcHJvamVjdE5hbWU6IHsgZXE6IHByb2plY3ROYW1lIH0gfSxcclxuICAgIH0pO1xyXG5cclxuICBpZiAocHJvamVjdEVycm9ycykge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIHByb2plY3RzOlwiLCBwcm9qZWN0RXJyb3JzKTtcclxuICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBmZXRjaCBwcm9qZWN0cy5cIik7XHJcbiAgfVxyXG5cclxuICBpZiAocHJvamVjdHNEYXRhLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGBQcm9qZWN0IHdpdGggbmFtZSBcIiR7cHJvamVjdE5hbWV9XCIgbm90IGZvdW5kLmApO1xyXG4gIH1cclxuXHJcbiAgLy8gR2V0IHRoZSBmaXJzdCBtYXRjaGluZyBwcm9qZWN0J3MgSURcclxuICBjb25zdCBwcm9qSUQgPSBwcm9qZWN0c0RhdGFbMF0ucHJvamVjdElEO1xyXG5cclxuICAvLyBOb3cgY3JlYXRlIHRoZSBmb3JtIHVzaW5nIHByb2pJRFxyXG4gIGNvbnN0IHsgZXJyb3JzOiBmb3JtZXJyb3JzLCBkYXRhOiBmb3JtIH0gPSBhd2FpdCBjbGllbnQubW9kZWxzLkZvcm0uY3JlYXRlKHtcclxuICAgIHByb2pJRDogcHJvaklELFxyXG4gICAgbmFtZTogbmFtZSxcclxuICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcclxuICB9KTtcclxuXHJcbiAgaWYgKGZvcm1lcnJvcnMpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmb3JtOlwiLCBmb3JtZXJyb3JzKTtcclxuICAgIHRocm93IG5ldyBFcnJvcihcIlNvbWV0aGluZyB3ZW50IHdyb25nIHdoaWxlIGNyZWF0aW5nIHRoZSBmb3JtXCIpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGZvcm1JZDogZm9ybT8uaWQsXHJcbiAgICBwcm9qSUQ6IHByb2pJRCxcclxuICB9O1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IHJ1bkZvcm0gPSBhc3luYyAoXHJcbiAgZm9ybVVybDpzdHJpbmcsXHJcbiAgRXF1aXBOYW1lOiBzdHJpbmcsXHJcbiAgRXF1aXBUYWc6IHN0cmluZyxcclxuKTogUHJvbWlzZTx7XHJcbiAgc3VjY2VzczogYm9vbGVhbjtcclxuICBjcmVhdGVkVGFnSUQ/OiBzdHJpbmc7XHJcbiAgdGFnQ3JlYXRlZEF0Pzogc3RyaW5nO1xyXG59PiA9PiB7XHJcbiAgLy9jb25zb2xlLmxvZyhcInJ1bkZvcm0gY2FsbGVkIHdpdGg6XCIsIGZvcm1VcmwsIEVxdWlwTmFtZSwgRXF1aXBUYWcpO1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBmb3JtUmVzcCA9IGF3YWl0IEdldEZvcm1Db250ZW50QnlVcmwoZm9ybVVybCk7XHJcbiAgICBcclxuICAgIGlmICghZm9ybVJlc3ApIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkZvcm0gbm90IGZvdW5kIHdpdGggdGhlIHByb3ZpZGVkIFRlc3ROYW1lIGFuZCBQcm9qZWN0SURcIik7XHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZm9ybSA9IGZvcm1SZXNwO1xyXG5cclxuICAgIGNvbnN0IGV4aXN0aW5nVGFnUmVzcCA9IGF3YWl0IGNsaWVudC5tb2RlbHMuRXF1aXBtZW50VGFnMi5saXN0KHtcclxuICAgICAgZmlsdGVyOiB7XHJcbiAgICAgICAgVGFnOiB7IGVxOiBFcXVpcFRhZyB9LFxyXG4gICAgICAgIEVxdWlwbWVudE5hbWU6IHsgZXE6IEVxdWlwTmFtZSB9LFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgZXhpc3RpbmdUYWcgPSBleGlzdGluZ1RhZ1Jlc3AuZGF0YT8uWzBdO1xyXG5cclxuICAgIGlmIChleGlzdGluZ1RhZykge1xyXG4gICAgICBjb25zdCBsaW5rZWRGb3JtUmVzcCA9IGF3YWl0IGNsaWVudC5tb2RlbHMuRm9ybVRhZzIubGlzdCh7XHJcbiAgICAgICAgZmlsdGVyOiB7XHJcbiAgICAgICAgICB0YWdJRDogeyBlcTogZXhpc3RpbmdUYWcuaWQgfSxcclxuICAgICAgICAgIGZvcm1JRDogeyBlcTogZm9ybS5pZCB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKGxpbmtlZEZvcm1SZXNwLmRhdGE/Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICAgXCJUaGlzIGVxdWlwbWVudCBhbmQgdGFnIGFyZSBhbHJlYWR5IGFzc29jaWF0ZWQgd2l0aCB0aGlzIGZvcm0gYW5kIHByb2plY3QuXCIsXHJcbiAgICAgICAgKTtcclxuICAgICAgICBhbGVydChcclxuICAgICAgICAgIFwiRXJyb3I6IFRoaXMgZXF1aXBtZW50IGFuZCB0YWcgYXJlIGFscmVhZHkgYXNzb2NpYXRlZCB3aXRoIHRoaXMgZm9ybSBhbmQgcHJvamVjdC5cIixcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlIH07XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBsZXQgY3JlYXRlUmVzcCA9IG51bGw7XHJcbiAgICBsZXQgY3JlYXRlZFRhZ0lEOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XHJcbiAgICBsZXQgdGFnQ3JlYXRlZEF0OiBzdHJpbmcgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgaWYgKCFleGlzdGluZ1RhZykge1xyXG4gICAgICBjcmVhdGVSZXNwID0gYXdhaXQgY2xpZW50Lm1vZGVscy5FcXVpcG1lbnRUYWcyLmNyZWF0ZSh7XHJcbiAgICAgICAgVGFnOiBFcXVpcFRhZyxcclxuICAgICAgICBFcXVpcG1lbnROYW1lOiBFcXVpcE5hbWUsXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKCFjcmVhdGVSZXNwLmRhdGEpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGNyZWF0ZSBFcXVpcG1lbnRUYWdcIik7XHJcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UgfTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY3JlYXRlZFRhZ0lEID0gY3JlYXRlUmVzcC5kYXRhLmlkO1xyXG4gICAgICB0YWdDcmVhdGVkQXQgPSBuZXcgRGF0ZShjcmVhdGVSZXNwLmRhdGEuY3JlYXRlZEF0KVxyXG4gICAgICAgIC50b0lTT1N0cmluZygpXHJcbiAgICAgICAgLnNwbGl0KFwiVFwiKVswXTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBmb3JtVGFnUmVzcCA9IGF3YWl0IGNsaWVudC5tb2RlbHMuRm9ybVRhZzIuY3JlYXRlKHtcclxuICAgICAgZm9ybUlEOiBmb3JtLmlkLFxyXG4gICAgICB0YWdJRDogZXhpc3RpbmdUYWcgPyBleGlzdGluZ1RhZy5pZCA6IGNyZWF0ZWRUYWdJRCxcclxuICAgIH0pO1xyXG5cclxuICAgIGlmICghZm9ybVRhZ1Jlc3AuZGF0YSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGNyZWF0ZSBGb3JtVGFnXCIpO1xyXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGNyZWF0ZWRUYWdJRCwgdGFnQ3JlYXRlZEF0IH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBleGVjdXRpbmcgcnVuRm9ybTpcIiwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UgfTtcclxuICB9XHJcbn07XHJcblxyXG4vLyBGZXRjaCBmb3JtSWQgYnkgVGVzdE5hbWUgYW5kIFByb2plY3RJRFxyXG5jb25zdCBmZXRjaEZvcm1CeU5hbWVBbmRQcm9qZWN0ID0gYXN5bmMgKFxyXG4gIFRlc3ROYW1lOiBzdHJpbmcsXHJcbiAgUHJvamVjdElEOiBzdHJpbmcsXHJcbikgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICAvL2NvbnNvbGUubG9nKFwiRmV0Y2hpbmcgZm9ybSB3aXRoIFRlc3ROYW1lOlwiLCBUZXN0TmFtZSwgXCJhbmQgUHJvamVjdElEOlwiLCBQcm9qZWN0SUQpO1xyXG4gICAgY29uc3QgZm9ybVJlc3AgPSBhd2FpdCBjbGllbnQubW9kZWxzLkZvcm0ubGlzdCh7XHJcbiAgICAgIGZpbHRlcjoge1xyXG4gICAgICAgIG5hbWU6IHsgZXE6IFRlc3ROYW1lIH0sXHJcbiAgICAgICAgcHJvaklEOiB7IGVxOiBQcm9qZWN0SUQgfSxcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIC8vY29uc29sZS5sb2coXCJGb3JtIGZldGNoIHJlc3BvbnNlOlwiLCBmb3JtUmVzcCk7XHJcblxyXG4gICAgLy8gSWYgZm9ybSBleGlzdHMsIHJldHVybiB0aGUgZmlyc3QgcmVzdWx0XHJcbiAgICByZXR1cm4gZm9ybVJlc3AuZGF0YT8uWzBdO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgZm9ybTpcIiwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG59O1xyXG5cclxuLyphd2FpdCBydW5Gb3JtKFwiVGVzdCBuYW1lIDFcIiwgXCJIRTEwMVAwMDFcIiwgXCJDb21wcmVzc29yIFhcIiwgXCJUQUctMDAxXCIpXHJcbi50aGVuKChuZXdFcXVpcG1lbnRUYWcpID0+IGNvbnNvbGUubG9nKFwiQ3JlYXRlZCBGb3JtVGFnOlwiLCBuZXdFcXVpcG1lbnRUYWcpKVxyXG4uY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmVycm9yKFwiRXJyb3I6XCIsIGVycm9yKSk7IC8vIEhhbmRsZSBhbnkgZXJyb3JzICovXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR2V0Rm9ybXNCeUNsaWVudE5hbWUoQ2xpZW50TmFtZTogc3RyaW5nKSB7XHJcbiAgLy8gMS4gRmV0Y2ggdGhlIENsaWVudCBJRFxyXG4gIGNvbnN0IGNsaWVudFJlc3VsdCA9IGF3YWl0IGNsaWVudC5tb2RlbHMuQ2xpZW50Lmxpc3Qoe1xyXG4gICAgZmlsdGVyOiB7IENsaWVudE5hbWU6IHsgZXE6IENsaWVudE5hbWUgfSB9LFxyXG4gIH0pO1xyXG5cclxuICBjb25zdCBjbGllbnREYXRhID0gY2xpZW50UmVzdWx0LmRhdGE/LlswXTtcclxuICBpZiAoIWNsaWVudERhdGEpIHJldHVybiBbXTtcclxuXHJcbiAgY29uc3QgY2xpZW50SUQgPSBjbGllbnREYXRhLmlkO1xyXG5cclxuICAvLyAyLiBGZXRjaCBhbGwgUHJvamVjdHMgd2l0aCB0aGUgY29ycmVzcG9uZGluZyBDbGllbnRJRFxyXG4gIGNvbnN0IHByb2plY3RzUmVzdWx0ID0gYXdhaXQgY2xpZW50Lm1vZGVscy5Qcm9qZWN0dC5saXN0KHtcclxuICAgIGZpbHRlcjogeyBDbGllbnRJRDogeyBlcTogY2xpZW50SUQgfSB9LFxyXG4gIH0pO1xyXG5cclxuICBjb25zdCBwcm9qZWN0cyA9IHByb2plY3RzUmVzdWx0LmRhdGE7XHJcbiAgaWYgKCFwcm9qZWN0cy5sZW5ndGgpIHJldHVybiBbXTtcclxuXHJcbiAgY29uc3QgcHJvamVjdElEcyA9IHByb2plY3RzLm1hcCgocHJvamVjdCkgPT4gcHJvamVjdC5wcm9qZWN0SUQpO1xyXG5cclxuICAvLyAzLiBGZXRjaCBhbGwgRm9ybXMgZm9yIHRoZSBmb3VuZCBwcm9qZWN0c1xyXG4gIGNvbnN0IGFsbEZvcm1zID0gYXdhaXQgUHJvbWlzZS5hbGwoXHJcbiAgICBwcm9qZWN0SURzLm1hcChhc3luYyAocHJvamVjdElEKSA9PiB7XHJcbiAgICAgIGNvbnN0IGZvcm1zUmVzdWx0ID0gYXdhaXQgY2xpZW50Lm1vZGVscy5Gb3JtLmxpc3Qoe1xyXG4gICAgICAgIGZpbHRlcjogeyBwcm9qSUQ6IHsgZXE6IHByb2plY3RJRCB9IH0sXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgY29uc3QgZm9ybXMgPSBmb3Jtc1Jlc3VsdC5kYXRhO1xyXG4gICAgICBjb25zdCBmb3JtSURzID0gZm9ybXMubWFwKChmb3JtKSA9PiBmb3JtLmlkKTtcclxuXHJcbiAgICAgIGNvbnN0IGZvcm1EZXRhaWxzV2l0aEVxdWlwbWVudCA9IGF3YWl0IFByb21pc2UuYWxsKFxyXG4gICAgICAgIGZvcm1JRHMubWFwKGFzeW5jIChmb3JtSWQpID0+IHtcclxuICAgICAgICAgIGNvbnN0IHsgZGF0YTogZm9ybVRhZ3MsIGVycm9yczogZm9ybVRhZ3NFcnJvcnMgfSA9XHJcbiAgICAgICAgICAgIGF3YWl0IGNsaWVudC5tb2RlbHMuRm9ybVRhZzIubGlzdCh7XHJcbiAgICAgICAgICAgICAgZmlsdGVyOiB7IGZvcm1JRDogeyBlcTogZm9ybUlkIH0gfSxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgaWYgKGZvcm1UYWdzRXJyb3JzKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgICAgICAgYEVycm9yIGZldGNoaW5nIGZvcm0gdGFncyBmb3IgZm9ybSBJRCAke2Zvcm1JZH06YCxcclxuICAgICAgICAgICAgICBmb3JtVGFnc0Vycm9ycyxcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgY29uc3QgdGFnSURzID0gZm9ybVRhZ3MubWFwKCh0YWcpID0+IHRhZy50YWdJRCk7XHJcblxyXG4gICAgICAgICAgY29uc3QgZXF1aXBtZW50QW5kVGFncyA9IGF3YWl0IFByb21pc2UuYWxsKFxyXG4gICAgICAgICAgICB0YWdJRHMubWFwKGFzeW5jICh0YWdJRCkgPT4ge1xyXG4gICAgICAgICAgICAgIGNvbnN0IHsgZGF0YTogZXF1aXBtZW50RGF0YSwgZXJyb3JzOiBlcXVpcG1lbnRFcnJvcnMgfSA9XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBjbGllbnQubW9kZWxzLkVxdWlwbWVudFRhZzIubGlzdCh7XHJcbiAgICAgICAgICAgICAgICAgIGZpbHRlcjogdGFnSUQgPyB7IGlkOiB7IGVxOiB0YWdJRCB9IH0gOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKGVxdWlwbWVudEVycm9ycykge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgICAgICAgICAgYEVycm9yIGZldGNoaW5nIGVxdWlwbWVudCBmb3IgdGFnSUQgJHt0YWdJRH06YCxcclxuICAgICAgICAgICAgICAgICAgZXF1aXBtZW50RXJyb3JzLFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgcmV0dXJuIGVxdWlwbWVudERhdGEubWFwKChlcXVpcG1lbnQpID0+ICh7XHJcbiAgICAgICAgICAgICAgICBlcXVpcG1lbnROYW1lOiBlcXVpcG1lbnQuRXF1aXBtZW50TmFtZSxcclxuICAgICAgICAgICAgICAgIGVxdWlwbWVudFRhZzogZXF1aXBtZW50LlRhZyxcclxuICAgICAgICAgICAgICAgIHRhZ0NyZWF0ZWRBdDogbmV3IERhdGUoZXF1aXBtZW50LmNyZWF0ZWRBdClcclxuICAgICAgICAgICAgICAgICAgLnRvSVNPU3RyaW5nKClcclxuICAgICAgICAgICAgICAgICAgLnNwbGl0KFwiVFwiKVswXSwgLy8gPC0tIEFkaWNpb25hZG8gYXF1aVxyXG4gICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgIGNvbnN0IGZvcm1EYXRhID0gZm9ybXMuZmluZCgoZm9ybSkgPT4gZm9ybS5pZCA9PT0gZm9ybUlkKTtcclxuICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGNsaWVudE5hbWU6IGNsaWVudERhdGEuQ2xpZW50TmFtZSxcclxuICAgICAgICAgICAgcHJvamVjdE5hbWU6IHByb2plY3RzLmZpbmQoXHJcbiAgICAgICAgICAgICAgKHByb2plY3QpID0+IHByb2plY3QucHJvamVjdElEID09PSBwcm9qZWN0SUQsXHJcbiAgICAgICAgICAgICk/LnByb2plY3ROYW1lLFxyXG4gICAgICAgICAgICBwcm9qZWN0SUQsXHJcbiAgICAgICAgICAgIGZvcm1OYW1lOiBmb3JtRGF0YT8ubmFtZSxcclxuICAgICAgICAgICAgZXF1aXBtZW50OiBlcXVpcG1lbnRBbmRUYWdzLmZsYXQoKSxcclxuICAgICAgICAgICAgc3VibWlzc2lvbjogZm9ybURhdGE/LnN1Ym1pc3Npb25zIHx8IDAsXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBmb3JtRGF0YT8uZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgIGZvcm1JZDogZm9ybUlkLFxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9KSxcclxuICAgICAgKTtcclxuXHJcbiAgICAgIHJldHVybiBmb3JtRGV0YWlsc1dpdGhFcXVpcG1lbnQuZmlsdGVyKChkZXRhaWwpID0+IGRldGFpbCAhPT0gbnVsbCk7XHJcbiAgICB9KSxcclxuICApO1xyXG5cclxuICBjb25zdCBmbGF0dGVuZWRGb3JtcyA9IGFsbEZvcm1zLmZsYXQoKTtcclxuXHJcbiAgcmV0dXJuIGZsYXR0ZW5lZEZvcm1zLm1hcCgoZm9ybURldGFpbCkgPT4gKHtcclxuICAgIGNsaWVudE5hbWU6IGZvcm1EZXRhaWwuY2xpZW50TmFtZSxcclxuICAgIHByb2plY3ROYW1lOiBmb3JtRGV0YWlsLnByb2plY3ROYW1lLFxyXG4gICAgcHJvamVjdElEOiBmb3JtRGV0YWlsLnByb2plY3RJRCxcclxuICAgIGZvcm1JRDogZm9ybURldGFpbC5mb3JtSWQsXHJcbiAgICBmb3JtTmFtZTogZm9ybURldGFpbC5mb3JtTmFtZSxcclxuICAgIGRlc2NyaXB0aW9uOiBmb3JtRGV0YWlsLmRlc2NyaXB0aW9uLFxyXG4gICAgZXF1aXBtZW50RGV0YWlsczogZm9ybURldGFpbC5lcXVpcG1lbnQubWFwKChlcXVpcG1lbnQpID0+ICh7XHJcbiAgICAgIGVxdWlwbWVudE5hbWU6IGVxdWlwbWVudD8uZXF1aXBtZW50TmFtZSB8fCBcIlVua25vd25cIixcclxuICAgICAgZXF1aXBtZW50VGFnOiBlcXVpcG1lbnQ/LmVxdWlwbWVudFRhZyB8fCBcIlVua25vd25cIixcclxuICAgICAgdGFnQ3JlYXRlZEF0OiBlcXVpcG1lbnQ/LnRhZ0NyZWF0ZWRBdCB8fCBcIlVua25vd25cIiwgLy8gPC0tIEFkaWNpb25hZG8gYXF1aSB0YW1iw6ltXHJcbiAgICB9KSksXHJcbiAgICBzdWJtaXNzaW9uOiBmb3JtRGV0YWlsLnN1Ym1pc3Npb24sXHJcbiAgfSkpO1xyXG59XHJcblxyXG4vKmF3YWl0IEdldEZvcm1zQnlDbGllbnROYW1lKFwiUmlvIFRpbnRvXCIpXHJcbiAgLnRoZW4oKGZsYXR0ZW5lZEZvcm1zKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhcIuKchSBGb3JtcyBmcm9tIGNsaWVudDpcIiwgZmxhdHRlbmVkRm9ybXMpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgY29uc29sZS5lcnJvcihcIuKdjCBFcnJvciBmZXRjaGluZyBmb3JtczpcIiwgZXJyb3IpO1xyXG4gIH0pOyovXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gU2F2ZUZvcm1BZnRlclRlc3QoXHJcbiAgRm9ybUlEOiBzdHJpbmcsXHJcbiAgVGFnSUQ6IHN0cmluZyxcclxuICBjb250ZW50OiBzdHJpbmcsXHJcbikge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IGRhdGE6IGZvcm1UYWdzLCBlcnJvcnMgfSA9IGF3YWl0IGNsaWVudC5tb2RlbHMuRm9ybVRhZzIubGlzdCh7XHJcbiAgICAgIGZpbHRlcjoge1xyXG4gICAgICAgIGZvcm1JRDogeyBlcTogRm9ybUlEIH0sXHJcbiAgICAgICAgdGFnSUQ6IHsgZXE6IFRhZ0lEIH0sXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoZXJyb3JzKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvcjpcIiwgZXJyb3JzKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGZvcm1UYWdUb1VwZGF0ZSA9IGZvcm1UYWdzWzBdO1xyXG5cclxuICAgIGlmICghZm9ybVRhZ1RvVXBkYXRlKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJOb3RoaW5nIGZvdW5kIGZvciB0aGlzIGZvcm1JRCBhbmQgdGFnSURcIik7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB1cGRhdGVkID0gYXdhaXQgY2xpZW50Lm1vZGVscy5Gb3JtVGFnMi51cGRhdGUoe1xyXG4gICAgICBpZDogZm9ybVRhZ1RvVXBkYXRlLmlkLFxyXG4gICAgICBjb250ZW50VGVzdDogY29udGVudCxcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKFwiVXBkYXRlZDpcIiwgdXBkYXRlZCk7XHJcbiAgICByZXR1cm4gdXBkYXRlZDtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBTYXZlRm9ybUFmdGVyVGVzdDpcIiwgZXJyKTtcclxuICB9XHJcbn1cclxuXHJcbi8qICBTYXZlRm9ybUFmdGVyVGVzdChcIjk2YTM0Y2EwLTAzYTItNGY3OS04ODUzLTQ5NWU3ZWEzZDA2MFwiLCBcIjQwZGY1OTgxLWU4ZDAtNDVlMS1iOGY0LTk5MjJmNWNjY2U1MlwiLCBcIlRlc3QgY29udGVudFwiKVxyXG4udGhlbigodXBkYXRlZEZvcm0pID0+IHtcclxuICBjb25zb2xlLmxvZyhcIkZvcm0gdXBkYXRlZCBzdWNjZXNzZnVsbHk6XCIsIHVwZGF0ZWRGb3JtKTtcclxufSlcclxuLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gIGNvbnNvbGUuZXJyb3IoXCJFcnJvciB1cGRhdGluZyBmb3JtOlwiLCBlcnJvcik7XHJcbn0pOyovXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q29udGVudEJ5Rm9ybUlEYW5kVGFnSUQoXHJcbiAgRm9ybUlEOiBzdHJpbmcsXHJcbiAgVGFnSUQ6IHN0cmluZyxcclxuKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgZGF0YTogZm9ybVRhZ3MsIGVycm9ycyB9ID0gYXdhaXQgY2xpZW50Lm1vZGVscy5Gb3JtVGFnMi5saXN0KHtcclxuICAgICAgZmlsdGVyOiB7XHJcbiAgICAgICAgZm9ybUlEOiB7IGVxOiBGb3JtSUQgfSxcclxuICAgICAgICB0YWdJRDogeyBlcTogVGFnSUQgfSxcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIGlmIChlcnJvcnMpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yOlwiLCBlcnJvcnMpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZm9ybVRhZyA9IGZvcm1UYWdzWzBdO1xyXG5cclxuICAgIGlmICghZm9ybVRhZykge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiTm90aGluZyBmb3VuZCBmb3IgdGhpcyBmb3JtSUQgYW5kIHRhZ0lEXCIpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY29udGVudCA9IGZvcm1UYWcuY29udGVudFRlc3Q7XHJcblxyXG4gICAgLy9jb25zb2xlLmxvZyhcIkZldGNoZWQgY29udGVudDpcIiwgY29udGVudCk7XHJcbiAgICByZXR1cm4gY29udGVudDtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBnZXRDb250ZW50QnlGb3JtSURhbmRUYWdJRDpcIiwgZXJyKTtcclxuICB9XHJcbn1cclxuXHJcbi8qZ2V0Q29udGVudEJ5Rm9ybUlEYW5kVGFnSUQoXCIyZTA2OWRmYS0zZTZkLTQyZDItYmUwNi01NDRiNWFhOTliNDBcIiwgXCI5Mzk5OTM1YS01OWVhLTQxM2YtODMwMy00MWI4ZmM0Zjk3YjdcIilcclxuLnRoZW4oKHVwZGF0ZWRGb3JtKSA9PiB7XHJcbiAgY29uc29sZS5sb2coXCJGb3JtIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5OlwiLCB1cGRhdGVkRm9ybSk7XHJcbn0pXHJcbi5jYXRjaCgoZXJyb3IpID0+IHtcclxuICBjb25zb2xlLmVycm9yKFwiRXJyb3IgdXBkYXRpbmcgZm9ybTpcIiwgZXJyb3IpO1xyXG59KTsqL1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEVxdWlwbWVudFRhZ0lEKFxyXG4gIGVxdWlwbWVudE5hbWU6IHN0cmluZyxcclxuICBlcXVpcG1lbnRUYWc6IHN0cmluZyxcclxuKSB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIFF1ZXJ5IHRvIGZldGNoIGVxdWlwbWVudCBieSBpdHMgbmFtZSBhbmQgdGFnXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9ycyB9ID0gYXdhaXQgY2xpZW50Lm1vZGVscy5FcXVpcG1lbnRUYWcyLmxpc3Qoe1xyXG4gICAgICBmaWx0ZXI6IHtcclxuICAgICAgICBFcXVpcG1lbnROYW1lOiB7IGVxOiBlcXVpcG1lbnROYW1lIH0sXHJcbiAgICAgICAgVGFnOiB7IGVxOiBlcXVpcG1lbnRUYWcgfSxcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIENoZWNrIGZvciBlcnJvcnNcclxuICAgIGlmIChlcnJvcnMpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIGVxdWlwbWVudCB0YWc6XCIsIGVycm9ycyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDaGVjayBpZiBkYXRhIGV4aXN0c1xyXG4gICAgY29uc3QgZXF1aXBtZW50VGFnRGF0YSA9IGRhdGFbMF07IC8vIEFzc3VtaW5nIHRoZSBmaXJzdCBlbnRyeSBtYXRjaGVzIHRoZSBzZWFyY2hcclxuICAgIGlmICghZXF1aXBtZW50VGFnRGF0YSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiTm8gbWF0Y2hpbmcgZXF1aXBtZW50IGZvdW5kIGZvciBnaXZlbiBuYW1lIGFuZCB0YWcuXCIpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmV0dXJuIHRoZSBlcXVpcG1lbnRUYWdJRFxyXG4gICAgcmV0dXJuIGVxdWlwbWVudFRhZ0RhdGEuaWQ7IC8vIEFzc3VtaW5nIGBpZGAgaXMgdGhlIGVxdWlwbWVudFRhZ0lEXHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW4gZ2V0RXF1aXBtZW50VGFnSUQ6XCIsIGVycik7XHJcbiAgfVxyXG59XHJcblxyXG4vKmdldEVxdWlwbWVudFRhZ0lEKFwiRXF1aXAxXCIsIFwiVGFnMVwiKVxyXG4udGhlbigodXBkYXRlZEZvcm0pID0+IHtcclxuICBjb25zb2xlLmxvZyhcIkVxdWlwIFRBRyBJRDpcIiwgdXBkYXRlZEZvcm0pO1xyXG59KVxyXG4uY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgY29uc29sZS5lcnJvcihcIkVycm9yIHVwZGF0aW5nIGZvcm06XCIsIGVycm9yKTtcclxufSk7Ki9cclxuIl0sIm5hbWVzIjpbIkdldENsaWVudHMiLCJHZXRQcm9qZWN0cyIsIkdldEZvcm1TdGF0cyIsIkdldEZvcm1zIiwiR2V0Rm9ybUJ5SWQiLCJVcGRhdGVGb3JtQ29udGVudCIsInNhdmVGb3JtQWN0aW9uIiwiUHVibGlzaEZvcm0iLCJwdWJsaXNoRm9ybUFjdGlvbiIsIkdldEZvcm1Db250ZW50QnlVcmwiLCJTdWJtaXRGb3JtIiwic3VibWl0Rm9ybUFjdGlvbiIsIkdldEZvcm1XaXRoU3VibWlzc2lvbnMiLCJHZXRTdWJtaXNzaW9uV2l0aFRhZ0luZm8iLCJHZXRGb3JtV2l0aFN1Ym1pc3Npb25EZXRhaWxzIiwiR2V0Rm9ybVN1Ym1pc3Npb25CeUlkIiwiR2V0RXF1aXBtZW50VGFnc0ZvckZvcm0iLCJHZXRDbGllbnRXaXRoUHJvamVjdHMiLCJHZXRGb3Jtc1dpdGhDbGllbnQiLCJHZXRGb3Jtc0luZm9ybWF0aW9uIiwiR2V0UHJvamVjdHNGcm9tQ2xpZW50TmFtZSIsIkNyZWF0ZUZvcm0iLCJydW5Gb3JtIiwiR2V0Rm9ybXNCeUNsaWVudE5hbWUiLCJTYXZlRm9ybUFmdGVyVGVzdCIsImdldENvbnRlbnRCeUZvcm1JRGFuZFRhZ0lEIiwiZ2V0RXF1aXBtZW50VGFnSUQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./actions/form.tsx\n"));

/***/ })

});