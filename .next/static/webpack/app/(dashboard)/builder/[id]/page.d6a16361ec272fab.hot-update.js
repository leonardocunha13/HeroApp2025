"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/(dashboard)/builder/[id]/page",{

/***/ "(app-pages-browser)/./actions/form.tsx":
/*!**************************!*\
  !*** ./actions/form.tsx ***!
  \**************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CreateForm: () => (/* binding */ CreateForm),\n/* harmony export */   GetClientWithProjects: () => (/* binding */ GetClientWithProjects),\n/* harmony export */   GetClients: () => (/* binding */ GetClients),\n/* harmony export */   GetEquipmentTagsForForm: () => (/* binding */ GetEquipmentTagsForForm),\n/* harmony export */   GetFormById: () => (/* binding */ GetFormById),\n/* harmony export */   GetFormContentByUrl: () => (/* binding */ GetFormContentByUrl),\n/* harmony export */   GetFormStats: () => (/* binding */ GetFormStats),\n/* harmony export */   GetFormWithSubmissionDetails: () => (/* binding */ GetFormWithSubmissionDetails),\n/* harmony export */   GetFormWithSubmissions: () => (/* binding */ GetFormWithSubmissions),\n/* harmony export */   GetForms: () => (/* binding */ GetForms),\n/* harmony export */   GetFormsByClientName: () => (/* binding */ GetFormsByClientName),\n/* harmony export */   GetFormsInformation: () => (/* binding */ GetFormsInformation),\n/* harmony export */   GetFormsWithClient: () => (/* binding */ GetFormsWithClient),\n/* harmony export */   GetProjects: () => (/* binding */ GetProjects),\n/* harmony export */   GetProjectsFromClientName: () => (/* binding */ GetProjectsFromClientName),\n/* harmony export */   GetSubmissionWithTagInfo: () => (/* binding */ GetSubmissionWithTagInfo),\n/* harmony export */   PublishForm: () => (/* binding */ PublishForm),\n/* harmony export */   SaveFormAfterTest: () => (/* binding */ SaveFormAfterTest),\n/* harmony export */   SubmitForm: () => (/* binding */ SubmitForm),\n/* harmony export */   UpdateFormContent: () => (/* binding */ UpdateFormContent),\n/* harmony export */   getContentByFormIDandTagID: () => (/* binding */ getContentByFormIDandTagID),\n/* harmony export */   getEquipmentTagID: () => (/* binding */ getEquipmentTagID),\n/* harmony export */   publishFormAction: () => (/* binding */ publishFormAction),\n/* harmony export */   runForm: () => (/* binding */ runForm),\n/* harmony export */   saveFormAction: () => (/* binding */ saveFormAction),\n/* harmony export */   submitFormAction: () => (/* binding */ submitFormAction)\n/* harmony export */ });\n/* harmony import */ var private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! private-next-rsc-action-client-wrapper */ \"(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js\");\n/* harmony import */ var private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__);\n/* __next_internal_action_entry_do_not_use__ {\"00369e8ec83ab1bd2124fd1278f96da57fcc983b0d\":\"GetClients\",\"0056b66f5e0bfda60da83a467cac83458903790355\":\"GetProjects\",\"005890e9ace11382590dfe256d18a985d80ef53664\":\"GetFormStats\",\"00a91fed0e98ab3125c1c8169ace482bdb26cc0548\":\"GetFormsInformation\",\"00ad1843f1c28ec580071c5c56699400132f7f9d12\":\"GetForms\",\"400e3e5833031e9d07aca6f53303ca77d0d2e18145\":\"publishFormAction\",\"401ebe00f05c551128eb9d6c75ea1bdbba798b238a\":\"saveFormAction\",\"40226b3b5d44a7254f49759d036f24d7c23272d040\":\"GetFormById\",\"403145f8835472f5e7741c1a435bba5cc897cb941f\":\"GetFormContentByUrl\",\"403b90fa7a3d9fa11b4a930b74a54039aa3ad1cd8d\":\"GetEquipmentTagsForForm\",\"404a8fb6c649d11bc0a07b97e817ba79e1e78b43fb\":\"GetFormsWithClient\",\"405c6f446a3b1abb852dc49ff1980b1db3e3f83630\":\"submitFormAction\",\"4068ecb9b942a6b5fed7a58d307434a4cd226cc865\":\"GetProjectsFromClientName\",\"40b077053238d0a2659c40cea672092d6d0cf1893c\":\"GetFormWithSubmissionDetails\",\"40c066748347b8b677aeb8f39299abc748f5c0f25e\":\"GetSubmissionWithTagInfo\",\"40d850fd14e1b9f97007830d74533abd1b2b998c5a\":\"GetFormWithSubmissions\",\"40ed1a63a644cfd2d361fd292636b2fb466efe82b6\":\"GetFormsByClientName\",\"40ffc290e11218328d68e3f5866f1a8fb2cb77cddc\":\"GetClientWithProjects\",\"6066c4603ae30a49e16a5a29faa271602a4f375e0c\":\"getEquipmentTagID\",\"60922447ba3f326fdf23eac6584943278d55d45d32\":\"getContentByFormIDandTagID\",\"60cb494246e13d01c97932a238a3d4622a74f55852\":\"UpdateFormContent\",\"702a21f6cf4717559298ad70c1798c88ee23f93130\":\"SubmitForm\",\"7035ce3c6c8f8889bce5f235aaf672a24636cf064a\":\"CreateForm\",\"70512de972c6c1b3fffa11e6c3274976b337deee8b\":\"PublishForm\",\"70670f5b317aefa057bffee35f3ac0d5a67af0e014\":\"SaveFormAfterTest\",\"7f3d15c2293b367b25bd6fde2116c045b5dca5b542\":\"runForm\"} */ \nvar GetClients = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"00369e8ec83ab1bd2124fd1278f96da57fcc983b0d\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"GetClients\");\nvar GetProjects = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"0056b66f5e0bfda60da83a467cac83458903790355\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"GetProjects\");\nvar GetFormStats = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"005890e9ace11382590dfe256d18a985d80ef53664\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"GetFormStats\");\nvar GetForms = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"00ad1843f1c28ec580071c5c56699400132f7f9d12\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"GetForms\");\nvar GetFormById = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"40226b3b5d44a7254f49759d036f24d7c23272d040\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"GetFormById\");\nvar UpdateFormContent = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"60cb494246e13d01c97932a238a3d4622a74f55852\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"UpdateFormContent\");\nvar saveFormAction = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"401ebe00f05c551128eb9d6c75ea1bdbba798b238a\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"saveFormAction\");\nvar PublishForm = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"70512de972c6c1b3fffa11e6c3274976b337deee8b\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"PublishForm\");\nvar publishFormAction = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"400e3e5833031e9d07aca6f53303ca77d0d2e18145\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"publishFormAction\");\nvar GetFormContentByUrl = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"403145f8835472f5e7741c1a435bba5cc897cb941f\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"GetFormContentByUrl\");\nvar SubmitForm = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"702a21f6cf4717559298ad70c1798c88ee23f93130\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"SubmitForm\");\nvar submitFormAction = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"405c6f446a3b1abb852dc49ff1980b1db3e3f83630\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"submitFormAction\");\nvar GetFormWithSubmissions = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"40d850fd14e1b9f97007830d74533abd1b2b998c5a\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"GetFormWithSubmissions\");\nvar GetSubmissionWithTagInfo = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"40c066748347b8b677aeb8f39299abc748f5c0f25e\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"GetSubmissionWithTagInfo\");\nvar GetFormWithSubmissionDetails = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"40b077053238d0a2659c40cea672092d6d0cf1893c\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"GetFormWithSubmissionDetails\");\nvar GetEquipmentTagsForForm = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"403b90fa7a3d9fa11b4a930b74a54039aa3ad1cd8d\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"GetEquipmentTagsForForm\");\nvar GetClientWithProjects = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"40ffc290e11218328d68e3f5866f1a8fb2cb77cddc\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"GetClientWithProjects\");\nvar GetFormsWithClient = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"404a8fb6c649d11bc0a07b97e817ba79e1e78b43fb\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"GetFormsWithClient\");\nvar GetFormsInformation = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"00a91fed0e98ab3125c1c8169ace482bdb26cc0548\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"GetFormsInformation\");\nvar GetProjectsFromClientName = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"4068ecb9b942a6b5fed7a58d307434a4cd226cc865\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"GetProjectsFromClientName\");\nvar CreateForm = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"7035ce3c6c8f8889bce5f235aaf672a24636cf064a\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"CreateForm\");\nvar runForm = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"7f3d15c2293b367b25bd6fde2116c045b5dca5b542\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"runForm\");\nvar GetFormsByClientName = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"40ed1a63a644cfd2d361fd292636b2fb466efe82b6\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"GetFormsByClientName\");\nvar SaveFormAfterTest = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"70670f5b317aefa057bffee35f3ac0d5a67af0e014\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"SaveFormAfterTest\");\nvar getContentByFormIDandTagID = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"60922447ba3f326fdf23eac6584943278d55d45d32\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"getContentByFormIDandTagID\");\nvar getEquipmentTagID = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"6066c4603ae30a49e16a5a29faa271602a4f375e0c\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"getEquipmentTagID\");\n /*getEquipmentTagID(\"Equip1\", \"Tag1\")\r\n.then((updatedForm) => {\r\n  console.log(\"Equip TAG ID:\", updatedForm);\r\n})\r\n.catch((error) => {\r\n  console.error(\"Error updating form:\", error);\r\n});*/ \n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FjdGlvbnMvZm9ybS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUF1SXNCQSwyQkFBQUEsNkZBQUFBLCtDQUFBQSw4RUFBQUEsVUFBQUEsb0ZBQUFBO0lBMENBQyw0QkFBQUEsNkZBQUFBLCtDQUFBQSw4RUFBQUEsVUFBQUEsb0ZBQUFBO0lBcUJBQyw2QkFBQUEsNkZBQUFBLCtDQUFBQSw4RUFBQUEsVUFBQUEsb0ZBQUFBO0lBc0NBQyx5QkFBQUEsNkZBQUFBLCtDQUFBQSw4RUFBQUEsVUFBQUEsb0ZBQUFBO0lBbUJBQyw0QkFBQUEsNkZBQUFBLCtDQUFBQSw4RUFBQUEsVUFBQUEsb0ZBQUFBO0lBOERBQyxrQ0FBQUEsNkZBQUFBLCtDQUFBQSw4RUFBQUEsVUFBQUEsb0ZBQUFBO0lBc0JBQywrQkFBQUEsNkZBQUFBLCtDQUFBQSw4RUFBQUEsVUFBQUEsb0ZBQUFBO0lBMEJBQyw0QkFBQUEsNkZBQUFBLCtDQUFBQSw4RUFBQUEsVUFBQUEsb0ZBQUFBO0lBd0JBQyxrQ0FBQUEsNkZBQUFBLCtDQUFBQSw4RUFBQUEsVUFBQUEsb0ZBQUFBO0lBUUFDLG9DQUFBQSw2RkFBQUEsK0NBQUFBLDhFQUFBQSxVQUFBQSxvRkFBQUE7SUFxQ0FDLDJCQUFBQSw2RkFBQUEsK0NBQUFBLDhFQUFBQSxVQUFBQSxvRkFBQUE7SUF3Q0FDLGlDQUFBQSw2RkFBQUEsK0NBQUFBLDhFQUFBQSxVQUFBQSxvRkFBQUE7SUFrQkFDLHVDQUFBQSw2RkFBQUEsK0NBQUFBLDhFQUFBQSxVQUFBQSxvRkFBQUE7SUE2QkFDLHlDQUFBQSw2RkFBQUEsK0NBQUFBLDhFQUFBQSxVQUFBQSxvRkFBQUE7SUFrREFDLDZDQUFBQSw2RkFBQUEsK0NBQUFBLDhFQUFBQSxVQUFBQSxvRkFBQUE7SUFzRUFDLHdDQUFBQSw2RkFBQUEsK0NBQUFBLDhFQUFBQSxVQUFBQSxvRkFBQUE7SUF3REFDLHNDQUFBQSw2RkFBQUEsK0NBQUFBLDhFQUFBQSxVQUFBQSxvRkFBQUE7SUE4QkFDLG1DQUFBQSw2RkFBQUEsK0NBQUFBLDhFQUFBQSxVQUFBQSxvRkFBQUE7SUE2Q0FDLG9DQUFBQSw2RkFBQUEsK0NBQUFBLDhFQUFBQSxVQUFBQSxvRkFBQUE7SUFnRUFDLDBDQUFBQSw2RkFBQUEsK0NBQUFBLDhFQUFBQSxVQUFBQSxvRkFBQUE7SUErQkFDLDJCQUFBQSw2RkFBQUEsK0NBQUFBLDhFQUFBQSxVQUFBQSxvRkFBQUE7SUEwQ1RDLHdCQUFBQSw2RkFBQUEsK0NBQUFBLDhFQUFBQSxVQUFBQSxvRkFBQUE7SUFrSFNDLHFDQUFBQSw2RkFBQUEsK0NBQUFBLDhFQUFBQSxVQUFBQSxvRkFBQUE7SUF1SEFDLGtDQUFBQSw2RkFBQUEsK0NBQUFBLDhFQUFBQSxVQUFBQSxvRkFBQUE7SUE2Q0FDLDJDQUFBQSw2RkFBQUEsK0NBQUFBLDhFQUFBQSxVQUFBQSxvRkFBQUE7SUF5Q0FDLGtDQUFBQSw2RkFBQUEsK0NBQUFBLDhFQUFBQSxVQUFBQSxvRkFBQUE7Q0FpQ3RCOzs7Ozs7R0FNRyIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsZGVqZXN1cy5IRVJPXFxPbmVEcml2ZSAtIEhlcm8gRW5naW5lZXJpbmdcXERlc2t0b3BcXEhlcm9BdWRpdEFwcDIwMjVcXEhlcm9BdWRpdEFwcDIwMjVcXGFjdGlvbnNcXGZvcm0udHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHNlcnZlclwiO1xyXG5cclxuaW1wb3J0IHsgQW1wbGlmeSB9IGZyb20gXCJhd3MtYW1wbGlmeVwiO1xyXG5pbXBvcnQgb3V0cHV0cyBmcm9tIFwiLi4vYW1wbGlmeV9vdXRwdXRzLmpzb25cIjtcclxuaW1wb3J0IHR5cGUgeyBTY2hlbWEgfSBmcm9tIFwiLi4vYW1wbGlmeS9kYXRhL3Jlc291cmNlXCI7XHJcbmltcG9ydCB7IGdlbmVyYXRlQ2xpZW50IH0gZnJvbSBcImF3cy1hbXBsaWZ5L2RhdGFcIjtcclxuaW1wb3J0IHsgZ2V0Q3VycmVudFVzZXIgfSBmcm9tIFwiYXdzLWFtcGxpZnkvYXV0aFwiOyAvLyBFbnN1cmUgZ2V0Q3VycmVudFVzZXIgaXMgaW1wb3J0ZWQgY29ycmVjdGx5XHJcbi8vL2ltcG9ydCB7IHZpIH0gZnJvbSBcImRhdGUtZm5zL2xvY2FsZVwiO1xyXG4vL2ltcG9ydCB7IHN1YiB9IGZyb20gXCJkYXRlLWZuc1wiO1xyXG4vL2ltcG9ydCB7IHN0cmluZyB9IGZyb20gJ3pvZCc7XHJcbi8vaW1wb3J0IHsgZm9ybVNjaGVtYVR5cGUgfSBmcm9tIFwiLi4vc2NoZW1hcy9mb3JtXCI7XHJcblxyXG5BbXBsaWZ5LmNvbmZpZ3VyZShvdXRwdXRzKTtcclxuXHJcbmNvbnN0IGNsaWVudCA9IGdlbmVyYXRlQ2xpZW50PFNjaGVtYT4oKTtcclxuXHJcbi8vIFVzZXJOb3RGb3VuZEVyciBjbGFzcyBmb3IgY3VzdG9tIGVycm9yIGhhbmRsaW5nXHJcbmNsYXNzIFVzZXJOb3RGb3VuZEVyciBleHRlbmRzIEVycm9yIHt9XHJcblxyXG4vKmV4cG9ydCBhc3luYyBmdW5jdGlvbiBJbnNlcnRDbGllbnQoTmFtZUNsaWVudDogc3RyaW5nKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgZXJyb3JzLCBkYXRhIH0gPSBhd2FpdCBjbGllbnQubW9kZWxzLkNsaWVudC5jcmVhdGUoe1xyXG4gICAgICBDbGllbnROYW1lOiBOYW1lQ2xpZW50LFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKGVycm9ycykge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3I6XCIsIGVycm9ycyk7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBpbnNlcnQgY2xpZW50LlwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBkYXRhOyAvLyBSZXR1cm5zIHRoZSBpbnNlcnRlZCBjbGllbnQgZGF0YVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3I6XCIsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufSovXHJcbi8qSW5zZXJ0Q2xpZW50KFwiRm9ydGVzY3VlXCIpXHJcbiAgLnRoZW4oKGRhdGEpID0+IGNvbnNvbGUubG9nKFwiQ2xpZW50OlwiLCBkYXRhKSlcclxuICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgY2xpZW50IHdpdGggcHJvamVjdHM6XCIsIGVycm9yKSk7Ki9cclxuXHJcbi8vIEZ1bmN0aW9uIHRvIGluc2VydCBhIHNpbmdsZSBwcm9qZWN0ICh5b3UgbWF5IGFscmVhZHkgaGF2ZSBzb21ldGhpbmcgbGlrZSB0aGlzKVxyXG4vKmV4cG9ydCBhc3luYyBmdW5jdGlvbiBJbnNlcnRQcm9qZWN0KG5hbWU6IHN0cmluZywgcHJvak51bTogc3RyaW5nLCBjbGllbnRJRDogc3RyaW5nKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgZXJyb3JzLCBkYXRhIH0gPSBhd2FpdCBjbGllbnQubW9kZWxzLlByb2plY3R0LmNyZWF0ZSh7XHJcbiAgICAgIHByb2plY3RJRDogcHJvak51bSxcclxuICAgICAgcHJvamVjdE5hbWU6IG5hbWUsXHJcbiAgICAgIENsaWVudElEOiBjbGllbnRJRFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKGVycm9ycykge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3I6XCIsIGVycm9ycyk7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBpbnNlcnQgY2xpZW50LlwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBkYXRhOyAvLyBSZXR1cm5zIHRoZSBpbnNlcnRlZCBjbGllbnQgZGF0YVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3I6XCIsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufSovXHJcblxyXG4vLyBGdW5jdGlvbiB0byBpbnNlcnQgbXVsdGlwbGUgcHJvamVjdHNcclxuLypleHBvcnQgYXN5bmMgZnVuY3Rpb24gSW5zZXJ0TXVsdGlwbGVQcm9qZWN0cyhuYW1lczogc3RyaW5nW10sIHByb2pOdW06IHN0cmluZ1tdLCBjbGllbnRJRHM6IHN0cmluZ1tdKSB7XHJcbiAgY29uc3QgaW5zZXJ0ZWRQcm9qZWN0czogYW55W10gPSBbXTsgLy8gQXJyYXkgdG8gc3RvcmUgc3VjY2Vzc2Z1bGx5IGluc2VydGVkIHByb2plY3RzXHJcbiAgY29uc3QgZmFpbGVkUHJvamVjdHM6IHN0cmluZ1tdID0gW107IC8vIEFycmF5IHRvIHN0b3JlIHByb2plY3QgbmFtZXMgdGhhdCBmYWlsZWQgdG8gaW5zZXJ0XHJcblxyXG4gIC8vIEVuc3VyZSB0aGF0IGlucHV0IGFycmF5cyBoYXZlIHRoZSBzYW1lIGxlbmd0aFxyXG4gIGlmIChuYW1lcy5sZW5ndGggIT09IHByb2pOdW0ubGVuZ3RoIHx8IHByb2pOdW0ubGVuZ3RoICE9PSBjbGllbnRJRHMubGVuZ3RoKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnB1dCBhcnJheXMgbXVzdCBoYXZlIHRoZSBzYW1lIGxlbmd0aC5cIik7XHJcbiAgfVxyXG5cclxuICAvLyBMb29wIHRocm91Z2ggdGhlIGFycmF5cyBhbmQgaW5zZXJ0IHByb2plY3RzIG9uZSBieSBvbmVcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IG5hbWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBjb25zdCBuYW1lID0gbmFtZXNbaV07XHJcbiAgICBjb25zdCBwcm9qZWN0TnVtYmVyID0gcHJvak51bVtpXTtcclxuICAgIGNvbnN0IGNsaWVudElEID0gY2xpZW50SURzW2ldO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHByb2plY3REYXRhID0gYXdhaXQgSW5zZXJ0UHJvamVjdChuYW1lLCBwcm9qZWN0TnVtYmVyLCBjbGllbnRJRCk7IC8vIENhbGwgdG8gaW5zZXJ0IGEgc2luZ2xlIHByb2plY3RcclxuICAgICAgaW5zZXJ0ZWRQcm9qZWN0cy5wdXNoKHByb2plY3REYXRhKTsgLy8gU3RvcmUgdGhlIHN1Y2Nlc3NmdWwgaW5zZXJ0IHJlc3VsdFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGluc2VydCBwcm9qZWN0OiAke25hbWV9YCwgZXJyb3IpO1xyXG4gICAgICBmYWlsZWRQcm9qZWN0cy5wdXNoKG5hbWUpOyAvLyBTdG9yZSB0aGUgZmFpbGVkIHByb2plY3QgbmFtZVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gUmV0dXJuIHRoZSByZXN1bHRzOiBzdWNjZXNzZnVsIGluc2VydGlvbnMgYW5kIGZhaWxlZCBvbmVzXHJcbiAgcmV0dXJuIHtcclxuICAgIGluc2VydGVkUHJvamVjdHMsXHJcbiAgICBmYWlsZWRQcm9qZWN0cyxcclxuICB9O1xyXG59Ki9cclxuXHJcbi8qZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEluc2VydE11bHRpcGxlQ2xpZW50cyhuYW1lczogc3RyaW5nW10pIHtcclxuICBjb25zdCBpbnNlcnRlZENsaWVudHM6IGFueVtdID0gW107IC8vIEFycmF5IHRvIHN0b3JlIHN1Y2Nlc3NmdWxseSBpbnNlcnRlZCBjbGllbnRzXHJcbiAgY29uc3QgZmFpbGVkQ2xpZW50czogc3RyaW5nW10gPSBbXTsgLy8gQXJyYXkgdG8gc3RvcmUgY2xpZW50IG5hbWVzIHRoYXQgZmFpbGVkIHRvIGluc2VydFxyXG5cclxuICBmb3IgKGxldCBuYW1lIG9mIG5hbWVzKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBjbGllbnREYXRhID0gYXdhaXQgSW5zZXJ0Q2xpZW50KG5hbWUpOyAvLyBDYWxsIHRoZSBzaW5nbGUgY2xpZW50IGluc2VydCBmdW5jdGlvblxyXG4gICAgICBpbnNlcnRlZENsaWVudHMucHVzaChjbGllbnREYXRhKTsgLy8gU3RvcmUgdGhlIHN1Y2Nlc3NmdWwgaW5zZXJ0IHJlc3VsdFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGluc2VydCBjbGllbnQ6ICR7bmFtZX1gLCBlcnJvcik7XHJcbiAgICAgIGZhaWxlZENsaWVudHMucHVzaChuYW1lKTsgLy8gU3RvcmUgdGhlIGZhaWxlZCBjbGllbnQgbmFtZVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gUmV0dXJuIHRoZSByZXN1bHRzXHJcbiAgcmV0dXJuIHtcclxuICAgIGluc2VydGVkQ2xpZW50cyxcclxuICAgIGZhaWxlZENsaWVudHMsXHJcbiAgfTtcclxufSovXHJcblxyXG4vKmNvbnN0IGNsaWVudHMgPSBhd2FpdCBHZXRDbGllbnRzKCk7Ki9cclxuXHJcbi8qY29uc3QgY0lEID0gY2xpZW50cy5jbGllbnRJRHM7XHJcbmNvbnNvbGUubG9nKGNJRCk7XHJcbmNvbnN0IHByb2plY3RzID0gW1wicHJvamVjdDFcIiwgXCJwcm9qZWN0MlwiLFwicHJvamVjdDNcIixcInByb2plY3Q0XCJdO1xyXG5jb25zdCAgcHJvak51bWJlcnMgPSBbXCJwcm9qTnVtYmVyMVwiLFwicHJvak51bWJlcjJcIixcInByb2pOdW1iZXIzXCIsXCJwcm9qTnVtYmVyNFwiXTsqL1xyXG5cclxuLypJbnNlcnRQcm9qZWN0KHByb2plY3RzWzBdLHByb2pOdW1iZXJzWzBdLGNJRFswXSk7XHJcbkluc2VydFByb2plY3QocHJvamVjdHNbMV0scHJvak51bWJlcnNbMV0sY0lEWzFdKTtcclxuSW5zZXJ0UHJvamVjdChwcm9qZWN0c1syXSxwcm9qTnVtYmVyc1syXSxjSURbMl0pO1xyXG5JbnNlcnRQcm9qZWN0KHByb2plY3RzWzNdLHByb2pOdW1iZXJzWzNdLGNJRFszXSk7Ki9cclxuXHJcbi8qY29uc3QgY2xpZW50TmFtZXMgPSBbXCJDbGllbnQ0XCJdOyAvLyBFeGFtcGxlIGNsaWVudCBuYW1lc1xyXG5cclxuSW5zZXJ0TXVsdGlwbGVDbGllbnRzKGNsaWVudE5hbWVzKVxyXG4gIC50aGVuKChyZXN1bHQpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKFwiU3VjY2Vzc2Z1bGx5IGluc2VydGVkIGNsaWVudHM6XCIsIHJlc3VsdC5pbnNlcnRlZENsaWVudHMpO1xyXG4gICAgY29uc29sZS5sb2coXCJGYWlsZWQgdG8gaW5zZXJ0IGNsaWVudHM6XCIsIHJlc3VsdC5mYWlsZWRDbGllbnRzKTtcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbnNlcnRpbmcgY2xpZW50czpcIiwgZXJyb3IpO1xyXG4gIH0pOyovXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR2V0Q2xpZW50cygpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBlcnJvcnMsIGRhdGEgfSA9IGF3YWl0IGNsaWVudC5tb2RlbHMuQ2xpZW50Lmxpc3QoKTtcclxuXHJcbiAgICBpZiAoZXJyb3JzKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvcjpcIiwgZXJyb3JzKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGZldGNoIGNsaWVudHMuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEV4dHJhY3QgY2xpZW50IG5hbWVzIGFuZCBjbGllbnQgSURzXHJcbiAgICBjb25zdCBjbGllbnROYW1lcyA9IGRhdGEubWFwKChjbGllbnQpID0+IGNsaWVudC5DbGllbnROYW1lKTtcclxuICAgIGNvbnN0IGNsaWVudElEcyA9IGRhdGEubWFwKChjbGllbnQpID0+IGNsaWVudC5pZCk7XHJcblxyXG4gICAgLy8gUmV0dXJuIGJvdGggY2xpZW50IG5hbWVzIGFuZCBJRHMgaW4gYW4gb2JqZWN0IG9yIGFuIGFycmF5XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBjbGllbnROYW1lcyxcclxuICAgICAgY2xpZW50SURzLFxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBBbHRlcm5hdGl2ZWx5LCBpZiB5b3Ugd2FudCB0byByZXR1cm4gYW4gYXJyYXk6XHJcbiAgICAvLyByZXR1cm4gW2NsaWVudE5hbWVzLCBjbGllbnRJRHNdO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3I6XCIsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufVxyXG5cclxuLyphc3luYyBmdW5jdGlvbiBmZXRjaERhdGEoKSB7XHJcbiAgY29uc3QgY2xpZW50cyA9IGF3YWl0IEdldENsaWVudHMoKTtcclxuICBjb25zdCBjSUQgPSBjbGllbnRzLmNsaWVudElEcztcclxuICBjb25zb2xlLmxvZyhjSUQpO1xyXG4gIGNvbnN0IHByb2plY3RzID0gW1wicHJvamVjdDFcIiwgXCJwcm9qZWN0MlwiLCBcInByb2plY3QzXCIsIFwicHJvamVjdDRcIl07XHJcbiAgY29uc3QgcHJvak51bWJlcnMgPSBbXCJwcm9qTnVtYmVyMVwiLCBcInByb2pOdW1iZXIyXCIsIFwicHJvak51bWJlcjNcIiwgXCJwcm9qTnVtYmVyNFwiXTtcclxuIFxyXG4gIGF3YWl0IEluc2VydFByb2plY3QocHJvamVjdHNbMF0sIHByb2pOdW1iZXJzWzBdLCBjSURbMF0pO1xyXG4gIGF3YWl0IEluc2VydFByb2plY3QocHJvamVjdHNbMV0sIHByb2pOdW1iZXJzWzFdLCBjSURbMV0pO1xyXG4gIGF3YWl0IEluc2VydFByb2plY3QocHJvamVjdHNbMl0sIHByb2pOdW1iZXJzWzJdLCBjSURbMl0pO1xyXG4gIGF3YWl0IEluc2VydFByb2plY3QocHJvamVjdHNbM10sIHByb2pOdW1iZXJzWzNdLCBjSURbM10pO1xyXG59Ki9cclxuXHJcbi8vZmV0Y2hEYXRhKCkuY2F0Y2goY29uc29sZS5lcnJvcik7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR2V0UHJvamVjdHMoKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgZXJyb3JzLCBkYXRhIH0gPSBhd2FpdCBjbGllbnQubW9kZWxzLlByb2plY3R0Lmxpc3QoKTtcclxuXHJcbiAgICBpZiAoZXJyb3JzKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvcjpcIiwgZXJyb3JzKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGZldGNoIHByb2plY3RzLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTZXBhcmF0ZSBwcm9qZWN0SURzIGFuZCBwcm9qZWN0TmFtZXNcclxuICAgIGNvbnN0IHByb2plY3RJRHMgPSBkYXRhLm1hcCgocHJvamVjdCkgPT4gcHJvamVjdC5wcm9qZWN0SUQpOyAvLyBMaXN0IG9mIGFsbCBwcm9qZWN0SURzXHJcbiAgICBjb25zdCBwcm9qZWN0TmFtZXMgPSBkYXRhLm1hcCgocHJvamVjdCkgPT4gcHJvamVjdC5wcm9qZWN0TmFtZSk7IC8vIExpc3Qgb2YgYWxsIHByb2plY3ROYW1lc1xyXG5cclxuICAgIC8vIFJldHVybiBib3RoIHNlcGFyYXRlbHlcclxuICAgIHJldHVybiB7IHByb2plY3RJRHMsIHByb2plY3ROYW1lcyB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3I6XCIsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdldEZvcm1TdGF0cygpIHtcclxuICB0cnkge1xyXG4gICAgLy8gRmV0Y2ggYWxsIGZvcm1zXHJcbiAgICBjb25zdCB7IGRhdGE6IGZvcm1zLCBlcnJvcnMgfSA9IGF3YWl0IGNsaWVudC5tb2RlbHMuRm9ybS5saXN0KCk7XHJcblxyXG4gICAgaWYgKGVycm9ycykge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGVycm9ycyk7XHJcbiAgICAgIHJldHVybiB7IHZpc2l0czogMCwgc3VibWlzc2lvbnM6IDAsIHN1Ym1pc3Npb25SYXRlOiAwLCBib3VuY2VSYXRlOiAwIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2FsY3VsYXIgc3RhdHMgY29tIFRPRE9TIG9zIGZvcm1zIChzZW0gZmlsdHJhciB1c2VySWQpXHJcbiAgICBjb25zdCB2aXNpdHMgPSBmb3Jtcy5yZWR1Y2UoKHN1bSwgZm9ybSkgPT4gc3VtICsgKGZvcm0udmlzaXRzIHx8IDApLCAwKTtcclxuICAgIGNvbnN0IHN1Ym1pc3Npb25zID0gZm9ybXMucmVkdWNlKFxyXG4gICAgICAoc3VtLCBmb3JtKSA9PiBzdW0gKyAoZm9ybS5zdWJtaXNzaW9ucyB8fCAwKSxcclxuICAgICAgMCxcclxuICAgICk7XHJcblxyXG4gICAgbGV0IHN1Ym1pc3Npb25SYXRlID0gMDtcclxuICAgIGlmICh2aXNpdHMgPiAwKSB7XHJcbiAgICAgIHN1Ym1pc3Npb25SYXRlID0gKHN1Ym1pc3Npb25zIC8gdmlzaXRzKSAqIDEwMDtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBib3VuY2VSYXRlID0gMTAwIC0gc3VibWlzc2lvblJhdGU7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdmlzaXRzLFxyXG4gICAgICBzdWJtaXNzaW9ucyxcclxuICAgICAgc3VibWlzc2lvblJhdGUsXHJcbiAgICAgIGJvdW5jZVJhdGUsXHJcbiAgICB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgZm9ybSBzdGF0czpcIiwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHsgdmlzaXRzOiAwLCBzdWJtaXNzaW9uczogMCwgc3VibWlzc2lvblJhdGU6IDAsIGJvdW5jZVJhdGU6IDAgfTtcclxuICB9XHJcbn1cclxuXHJcblxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdldEZvcm1zKCkge1xyXG4gIHRyeSB7XHJcbiAgICBcclxuICAgIGNvbnN0IHsgZGF0YTogZm9ybXMsIGVycm9ycyB9ID0gYXdhaXQgY2xpZW50Lm1vZGVscy5Gb3JtLmxpc3QoKTtcclxuXHJcbiAgICBpZiAoZXJyb3JzKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3JzKTtcclxuICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG4gICAgLy9jb25zb2xlLmxvZyhcIkZvcm1zOlwiLCBmb3Jtcyk7XHJcbiAgICByZXR1cm4gZm9ybXM7XHJcbiAgICBcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIGZvcm1zOlwiLCBlcnJvcik7XHJcbiAgICByZXR1cm4gW107XHJcbiAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdldEZvcm1CeUlkKGlkOiBzdHJpbmcpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBkYXRhOiBmb3JtLCBlcnJvcnMgfSA9IGF3YWl0IGNsaWVudC5tb2RlbHMuRm9ybS5nZXQoeyBpZCB9KTtcclxuXHJcbiAgICBpZiAoZXJyb3JzKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3JzKTtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFmb3JtKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkZvcm0gbm90IGZvdW5kLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgcHJvamVjdE5hbWUgPSBudWxsO1xyXG4gICAgbGV0IGNsaWVudE5hbWUgPSBudWxsO1xyXG4gICAgbGV0IHNoYXJlVVJMID0gbnVsbDtcclxuXHJcbiAgICBpZiAoZm9ybS5wcm9qSUQpIHtcclxuICAgICAgY29uc3QgeyBkYXRhOiBwcm9qZWN0RGF0YSwgZXJyb3JzOiBwcm9qZWN0RXJyb3JzIH0gPSBhd2FpdCBjbGllbnQubW9kZWxzLlByb2plY3R0Lmxpc3Qoe1xyXG4gICAgICAgIGZpbHRlcjogeyBwcm9qZWN0SUQ6IHsgZXE6IGZvcm0ucHJvaklEIH0gfSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAocHJvamVjdEVycm9ycykge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IocHJvamVjdEVycm9ycyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHByb2plY3QgPSBwcm9qZWN0RGF0YT8uWzBdO1xyXG4gICAgICBpZiAocHJvamVjdCkge1xyXG4gICAgICAgIHByb2plY3ROYW1lID0gcHJvamVjdC5wcm9qZWN0TmFtZTtcclxuXHJcbiAgICAgICAgaWYgKHByb2plY3QuQ2xpZW50SUQpIHtcclxuICAgICAgICAgIGNvbnN0IHsgZGF0YTogY2xpZW50RGF0YSwgZXJyb3JzOiBjbGllbnRFcnJvcnMgfSA9IGF3YWl0IGNsaWVudC5tb2RlbHMuQ2xpZW50LmdldCh7XHJcbiAgICAgICAgICAgIGlkOiBwcm9qZWN0LkNsaWVudElELFxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgaWYgKGNsaWVudEVycm9ycykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGNsaWVudEVycm9ycyk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKGNsaWVudERhdGEpIHtcclxuICAgICAgICAgICAgY2xpZW50TmFtZSA9IGNsaWVudERhdGEuQ2xpZW50TmFtZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXRvcm5hciB0YW1iw6ltIHZpc2l0YXMgZSBzdWJtaXNzw7Vlc1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZm9ybSxcclxuICAgICAgcHJvamVjdE5hbWUsXHJcbiAgICAgIGNsaWVudE5hbWUsXHJcbiAgICAgIHNoYXJlVVJMOiBmb3JtLnNoYXJlVVJMLFxyXG4gICAgICB2aXNpdHM6IGZvcm0udmlzaXRzID8/IDAsXHJcbiAgICAgIHN1Ym1pc3Npb25zOiBmb3JtLnN1Ym1pc3Npb25zID8/IDAsXHJcbiAgICB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgZm9ybSBieSBJRDpcIiwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFVwZGF0ZUZvcm1Db250ZW50KGlkOiBzdHJpbmcsIGNvbnRlbnQ6IGFueSkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBmb3JtID0ge1xyXG4gICAgICBpZCxcclxuICAgICAgY29udGVudCxcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgeyBkYXRhOiB1cGRhdGVkRm9ybSwgZXJyb3JzIH0gPSBhd2FpdCBjbGllbnQubW9kZWxzLkZvcm0udXBkYXRlKGZvcm0pO1xyXG5cclxuICAgIGlmIChlcnJvcnMpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihlcnJvcnMpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gdXBkYXRlIGZvcm0gY29udGVudC5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHVwZGF0ZWRGb3JtO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgdXBkYXRpbmcgZm9ybSBjb250ZW50OlwiLCBlcnJvcik7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gdXBkYXRlIGZvcm0gY29udGVudC5cIik7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBEZWZpbmUgeW91ciBzZXJ2ZXItc2lkZSBhY3Rpb25cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNhdmVGb3JtQWN0aW9uKGZvcm1EYXRhOiBGb3JtRGF0YSkge1xyXG4gIGNvbnN0IGlkID0gZm9ybURhdGEuZ2V0KFwiaWRcIikgYXMgc3RyaW5nO1xyXG4gIGNvbnN0IGNvbnRlbnQgPSBmb3JtRGF0YS5nZXQoXCJjb250ZW50XCIpIGFzIHN0cmluZztcclxuXHJcbiAgLy8gQ2FsbCB5b3VyIGV4aXN0aW5nIHNlcnZlci1zaWRlIGZ1bmN0aW9uIChVcGRhdGVGb3JtQ29udGVudClcclxuICBhd2FpdCBVcGRhdGVGb3JtQ29udGVudChpZCwgY29udGVudCk7XHJcbn1cclxuLypjb25zdCBkYXRhID0gW1xyXG4gIFsnU2VjdGlvbiAxJywgJ0EnLCAnQicsICdDJywgJ0QnLCAnRScsICdGJ10sXHJcbiAgWydFJywgJ0YnLCAnRycsICdIJywgJ0knXSxcclxuICBbJ0onLCAnSycsICdMJywgJ00nLCAnTiddLFxyXG5dO1xyXG5cclxuLy8gQ29udmVydCB0aGUgZGF0YSB0byBhIEpTT04gc3RyaW5nXHJcbmNvbnN0IGNvbnRlbnQgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcclxuXHJcblxyXG5VcGRhdGVGb3JtQ29udGVudChcImI1YTExZDc3LWZlZjctNDMzMC04NDc5LWRiNWQ3YWVhM2FmZlwiLCBjb250ZW50KVxyXG4gIC50aGVuKHVwZGF0ZWRGb3JtID0+IHtcclxuICAgIGNvbnNvbGUubG9nKCdGb3JtIHVwZGF0ZWQ6JywgdXBkYXRlZEZvcm0pO1xyXG4gIH0pXHJcbiAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIGZvcm06JywgZXJyb3IpO1xyXG4gIH0pO1xyXG4qL1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFB1Ymxpc2hGb3JtKGlkOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZywgc2hhcmVVUkw6IHN0cmluZykge1xyXG4gIHRyeSB7XHJcblxyXG4gICAgY29uc3QgZm9ybSA9IHtcclxuICAgICAgaWQ6IGlkLFxyXG4gICAgICBjb250ZW50OiBjb250ZW50LFxyXG4gICAgICBzaGFyZVVSTDogc2hhcmVVUkwsXHJcbiAgICAgIHB1Ymxpc2hlZDogdHJ1ZSxcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgeyBkYXRhOiB1cGRhdGVkRm9ybSwgZXJyb3JzIH0gPSBhd2FpdCBjbGllbnQubW9kZWxzLkZvcm0udXBkYXRlKGZvcm0pO1xyXG5cclxuICAgIGlmIChlcnJvcnMpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihlcnJvcnMpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gcHVibGlzaCB0aGUgZm9ybS5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHVwZGF0ZWRGb3JtO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcHVibGlzaGluZyBmb3JtOlwiLCBlcnJvcik7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gcHVibGlzaCB0aGUgZm9ybS5cIik7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHVibGlzaEZvcm1BY3Rpb24oZm9ybURhdGE6IEZvcm1EYXRhKSB7XHJcbiAgY29uc3QgaWQgPSBmb3JtRGF0YS5nZXQoXCJpZFwiKSBhcyBzdHJpbmc7XHJcbiAgY29uc3QgY29udGVudCA9IGZvcm1EYXRhLmdldChcImNvbnRlbnRcIikgYXMgc3RyaW5nO1xyXG4gIGNvbnN0IHNoYXJlVVJMID0gZm9ybURhdGEuZ2V0KFwic2hhcmVVUkxcIikgYXMgc3RyaW5nO1xyXG5cclxuICBhd2FpdCBQdWJsaXNoRm9ybShpZCwgY29udGVudCwgc2hhcmVVUkwpO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR2V0Rm9ybUNvbnRlbnRCeVVybChmb3JtVXJsOiBzdHJpbmcpIHtcclxuICB0cnkge1xyXG4gICAgXHJcbiAgICAvL2NvbnN0IGZvcm1VUkwgPSBgL3N1Ym1pdC8ke2Zvcm1Vcmx9YDtcclxuICAgIGNvbnN0IGZvcm1VUkwgPSBmb3JtVXJsLnN0YXJ0c1dpdGgoJy9zdWJtaXQvJykgPyBmb3JtVXJsIDogYC9zdWJtaXQvJHtmb3JtVXJsfWA7XHJcbiAgICBjb25zdCB7IGRhdGE6IGZvcm1zLCBlcnJvcnMgfSA9IGF3YWl0IGNsaWVudC5tb2RlbHMuRm9ybS5saXN0KHtcclxuICAgICAgZmlsdGVyOiB7IHNoYXJlVVJMOiB7IGVxOiBmb3JtVVJMIH0gfSxcclxuICAgIH0pO1xyXG5cclxuICAgIGlmIChlcnJvcnMgfHwgIWZvcm1zIHx8IGZvcm1zLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGVycm9ycyB8fCBcIkZvcm0gbm90IGZvdW5kLCBwbGVhc2UgdHJ5IGFnYWluLlwiKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRm9ybSBub3QgZm91bmQuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGZvcm0gPSBmb3Jtc1swXTtcclxuICAgIGNvbnN0IHVwZGF0ZWRWaXNpdHMgPSBmb3JtLnZpc2l0cyA/IGZvcm0udmlzaXRzICsgMSA6IDE7XHJcblxyXG4gICAgY29uc3QgdXBkYXRlZEZvcm0gPSB7XHJcbiAgICAgIGlkOiBmb3JtLmlkLFxyXG4gICAgICB2aXNpdHM6IHVwZGF0ZWRWaXNpdHMsXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IHsgZXJyb3JzOiB1cGRhdGVFcnJvcnMgfSA9XHJcbiAgICAgIGF3YWl0IGNsaWVudC5tb2RlbHMuRm9ybS51cGRhdGUodXBkYXRlZEZvcm0pO1xyXG5cclxuICAgIGlmICh1cGRhdGVFcnJvcnMpIHtcclxuICAgICAgY29uc29sZS5lcnJvcih1cGRhdGVFcnJvcnMpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gdXBkYXRlIGZvcm0gdmlzaXRzLlwiKTtcclxuICAgIH1cclxuICAgIC8vY29uc29sZS5sb2coXCJmb3JtOlwiLCBmb3JtKTtcclxuICAgIHJldHVybiBmb3JtO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgZm9ybSBjb250ZW50IGJ5IFVSTDpcIiwgZXJyb3IpO1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgZm9ybSBjb250ZW50IGJ5IFVSTC5cIik7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gU3VibWl0Rm9ybShmb3JtSWQ6IHN0cmluZywgdGFnSWQ6IHN0cmluZywgY29udGVudDogc3RyaW5nKSB7XHJcbiAgY29uc3Qgc3VibWlzc2lvbiA9IHtcclxuICAgIGZvcm1JZCxcclxuICAgIGNvbnRlbnQsXHJcbiAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICB9O1xyXG4gIFxyXG4gIGNvbnN0IHsgZGF0YTogc3VibWlzc2lvbkRhdGEgfSA9IGF3YWl0IGNsaWVudC5tb2RlbHMuRm9ybVN1Ym1pc3Npb25zLmNyZWF0ZShzdWJtaXNzaW9uKTtcclxuXHJcbiAgaWYgKCFzdWJtaXNzaW9uRGF0YT8uaWQpIHRocm93IG5ldyBFcnJvcihcIkVycm8gYW8gY3JpYXIgc3VibWlzc8Ojb1wiKTtcclxuXHJcbiAgY29uc3Qgc3VibWlzc2lvbklkID0gc3VibWlzc2lvbkRhdGEuaWQ7XHJcblxyXG4gIC8vIEF0dWFsaXphIG8gY29udGFkb3IgZGUgc3VibWlzc8O1ZXMgZG8gZm9ybXVsw6FyaW9cclxuICBjb25zdCB7IGRhdGE6IGZvcm1MaXN0IH0gPSBhd2FpdCBjbGllbnQubW9kZWxzLkZvcm0ubGlzdCh7XHJcbiAgICBmaWx0ZXI6IHsgaWQ6IHsgZXE6IGZvcm1JZCB9IH0sXHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IGZvcm0gPSBmb3JtTGlzdFswXTtcclxuICBhd2FpdCBjbGllbnQubW9kZWxzLkZvcm0udXBkYXRlKHtcclxuICAgIGlkOiBmb3JtLmlkLFxyXG4gICAgc3VibWlzc2lvbnM6IChmb3JtLnN1Ym1pc3Npb25zIHx8IDApICsgMSxcclxuICB9KTtcclxuXHJcbiAgLy8gQXR1YWxpemEgbyBjYW1wbyBjb250ZW50VGVzdCBlbSBGb3JtVGFnMiBjb3JyZXNwb25kZW50ZSBhbyB0YWdJZFxyXG4gIGNvbnN0IHsgZGF0YTogZm9ybVRhZ3MgfSA9IGF3YWl0IGNsaWVudC5tb2RlbHMuRm9ybVRhZzIubGlzdCh7XHJcbiAgICBmaWx0ZXI6IHsgdGFnSUQ6IHsgZXE6IHRhZ0lkIH0gfSxcclxuICB9KTtcclxuXHJcbiAgaWYgKCFmb3JtVGFncy5sZW5ndGgpIHRocm93IG5ldyBFcnJvcihcIkZvcm1UYWcyIG7Do28gZW5jb250cmFkb1wiKTtcclxuXHJcbiAgYXdhaXQgY2xpZW50Lm1vZGVscy5Gb3JtVGFnMi51cGRhdGUoe1xyXG4gICAgaWQ6IGZvcm1UYWdzWzBdLmlkLFxyXG4gICAgY29udGVudFRlc3Q6IHN1Ym1pc3Npb25JZCxcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIHN1Ym1pc3Npb25EYXRhO1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHN1Ym1pdEZvcm1BY3Rpb24oZm9ybURhdGE6IEZvcm1EYXRhKSB7XHJcbiAgY29uc3QgZm9ybUlkID0gZm9ybURhdGEuZ2V0KFwiZm9ybUlkXCIpIGFzIHN0cmluZztcclxuICBjb25zdCB0YWdJZCA9IGZvcm1EYXRhLmdldChcInRhZ0lkXCIpIGFzIHN0cmluZztcclxuICBjb25zdCByYXdSZXNwb25zZXMgPSBmb3JtRGF0YS5nZXQoXCJyZXNwb25zZXNcIikgYXMgc3RyaW5nO1xyXG4gIGNvbnN0IHJhd0Zvcm1Db250ZW50ID0gZm9ybURhdGEuZ2V0KFwiZm9ybUNvbnRlbnRcIikgYXMgc3RyaW5nO1xyXG5cclxuICBjb25zdCBzdWJtaXNzaW9uID0ge1xyXG4gICAgcmVzcG9uc2VzOiBKU09OLnBhcnNlKHJhd1Jlc3BvbnNlcyksXHJcbiAgICBmb3JtQ29udGVudDogSlNPTi5wYXJzZShyYXdGb3JtQ29udGVudCksXHJcbiAgICBzdWJtaXR0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGpzb25Db250ZW50ID0gSlNPTi5zdHJpbmdpZnkoc3VibWlzc2lvbik7XHJcbiAgYXdhaXQgU3VibWl0Rm9ybShmb3JtSWQsIHRhZ0lkLCBqc29uQ29udGVudCk7XHJcbn1cclxuXHJcblxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdldEZvcm1XaXRoU3VibWlzc2lvbnMoaWQ6IHN0cmluZykge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IGRhdGE6IGZvcm0sIGVycm9ycyB9ID0gYXdhaXQgY2xpZW50Lm1vZGVscy5Gb3JtLmdldCh7IGlkIH0pO1xyXG5cclxuICAgIGlmIChlcnJvcnMpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihlcnJvcnMpO1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZm9ybSkge1xyXG4gICAgICBjb25zdCB7IGRhdGE6IHN1Ym1pc3Npb25zLCBlcnJvcnM6IHN1Ym1pc3Npb25FcnJvcnMgfSA9XHJcbiAgICAgICAgYXdhaXQgY2xpZW50Lm1vZGVscy5Gb3JtU3VibWlzc2lvbnMubGlzdCh7XHJcbiAgICAgICAgICBmaWx0ZXI6IHsgZm9ybUlkOiB7IGVxOiBmb3JtLmlkIH0gfSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgIGlmIChzdWJtaXNzaW9uRXJyb3JzKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihzdWJtaXNzaW9uRXJyb3JzKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHsgZm9ybSwgc3VibWlzc2lvbnMgfTtcclxuICAgIH1cclxuXHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJGb3JtIG5vdCBmb3VuZC5cIik7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBmb3JtIHdpdGggc3VibWlzc2lvbnM6XCIsIGVycm9yKTtcclxuICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBmZXRjaCBmb3JtIHdpdGggc3VibWlzc2lvbnMuXCIpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdldFN1Ym1pc3Npb25XaXRoVGFnSW5mbyhzdWJtaXNzaW9uSWQ6IHN0cmluZykge1xyXG4gIC8vIE9idGVuaGEgYSBzdWJtaXNzw6NvXHJcbiAgY29uc3Qgc3VibWlzc2lvblJlc3BvbnNlID0gYXdhaXQgY2xpZW50Lm1vZGVscy5Gb3JtU3VibWlzc2lvbnMuZ2V0KHsgaWQ6IHN1Ym1pc3Npb25JZCB9KTtcclxuXHJcbiAgLy8gVmVyaWZpcXVlIHNlIGEgcmVzcG9zdGEgY29udMOpbSBhIHN1Ym1pc3PDo29cclxuICBjb25zdCBzdWJtaXNzaW9uID0gc3VibWlzc2lvblJlc3BvbnNlLmRhdGE7XHJcbiAgaWYgKCFzdWJtaXNzaW9uKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJGb3JtU3VibWlzc2lvbiBuw6NvIGVuY29udHJhZG8uXCIpO1xyXG4gIH1cclxuXHJcbiAgLy8gQWNlc3NhbmRvIG8gZm9ybUlkIGRhIHN1Ym1pc3PDo29cclxuICBjb25zdCBmb3JtSWQgPSBzdWJtaXNzaW9uLmZvcm1JZDtcclxuICBpZiAoIWZvcm1JZCkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiZm9ybUlkIG7Do28gZW5jb250cmFkbyBuYSBzdWJtaXNzw6NvLlwiKTtcclxuICB9XHJcblxyXG4gIC8vIE9idGVuaGEgb3MgRm9ybVRhZzIgcXVlIHRlbSBjb250ZW50VGVzdCByZWxhY2lvbmFkbyBhbyBzdWJtaXNzaW9uSWRcclxuICBjb25zdCBmb3JtVGFnc1Jlc3BvbnNlID0gYXdhaXQgY2xpZW50Lm1vZGVscy5Gb3JtVGFnMi5saXN0KHtcclxuICAgIGZpbHRlcjoge1xyXG4gICAgICBjb250ZW50VGVzdDogeyBjb250YWluczogc3VibWlzc2lvbklkIH0sIC8vIEFxdWkgZXN0YW1vcyBidXNjYW5kbyBkZW50cm8gZG8gY2FtcG8gY29udGVudFRlc3RcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgLy8gVmVyaWZpcXVlIHNlIG8gRm9ybVRhZzIgZm9pIGVuY29udHJhZG9cclxuICBpZiAoIWZvcm1UYWdzUmVzcG9uc2UuZGF0YS5sZW5ndGgpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihcIkZvcm1UYWcyIG7Do28gZW5jb250cmFkbyBjb20gbyBjb250ZW50VGVzdCBhc3NvY2lhZG8uXCIpO1xyXG4gIH1cclxuXHJcbiAgLy8gUGVndWUgbyBwcmltZWlybyBGb3JtVGFnMiBlbmNvbnRyYWRvXHJcbiAgY29uc3QgZm9ybVRhZyA9IGZvcm1UYWdzUmVzcG9uc2UuZGF0YVswXTtcclxuXHJcbiAgLy8gT2J0ZW5oYSBvIEVxdWlwbWVudFRhZzIgYXNzb2NpYWRvIGFvIEZvcm1UYWcyXHJcbiAgY29uc3QgZXF1aXBtZW50VGFnUmVzcG9uc2UgPSBhd2FpdCBjbGllbnQubW9kZWxzLkVxdWlwbWVudFRhZzIuZ2V0KHtcclxuICAgIGlkOiBmb3JtVGFnLnRhZ0lEID8/IFwiXCIsICAvLyBVc2FuZG8gbyB0YWdJRCBkZSBGb3JtVGFnMiwgZmFsbGJhY2sgdG8gZW1wdHkgc3RyaW5nIGlmIG51bGxcclxuICB9KTtcclxuXHJcbiAgaWYgKCFlcXVpcG1lbnRUYWdSZXNwb25zZS5kYXRhKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcXVpcG1lbnRUYWcyIG7Do28gZW5jb250cmFkby5cIik7XHJcbiAgfVxyXG5cclxuICAvLyBSZXRvcm5lIGFzIGluZm9ybWHDp8O1ZXNcclxuICByZXR1cm4ge1xyXG4gICAgZm9ybUlkOiBmb3JtSWQsXHJcbiAgICBzdWJtaXNzaW9uSWQ6IHN1Ym1pc3Npb24uaWQsXHJcbiAgICBzdWJtaXR0ZWRBdDogc3VibWlzc2lvbi5jcmVhdGVkQXQsXHJcbiAgICBlcXVpcG1lbnROYW1lOiBlcXVpcG1lbnRUYWdSZXNwb25zZS5kYXRhLkVxdWlwbWVudE5hbWUgPz8gXCJTZW0gbm9tZVwiLFxyXG4gICAgdGFnOiBlcXVpcG1lbnRUYWdSZXNwb25zZS5kYXRhLlRhZyA/PyBcIlNlbSB0YWdcIixcclxuICB9O1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR2V0Rm9ybVdpdGhTdWJtaXNzaW9uRGV0YWlscyhpZDogc3RyaW5nKSB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIEZldGNoIHRoZSBmb3JtIHdpdGggc3VibWlzc2lvbnNcclxuICAgIGNvbnN0IHsgZGF0YTogZm9ybSwgZXJyb3JzOiBmb3JtRXJyb3JzIH0gPSBhd2FpdCBjbGllbnQubW9kZWxzLkZvcm0uZ2V0KHsgaWQgfSk7XHJcblxyXG4gICAgaWYgKGZvcm1FcnJvcnMpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihmb3JtRXJyb3JzKTtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFmb3JtKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkZvcm0gbm90IGZvdW5kLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBGZXRjaCB0aGUgc3VibWlzc2lvbnMgcmVsYXRlZCB0byB0aGUgZm9ybVxyXG4gICAgY29uc3QgeyBkYXRhOiBzdWJtaXNzaW9ucywgZXJyb3JzOiBzdWJtaXNzaW9uRXJyb3JzIH0gPSBhd2FpdCBjbGllbnQubW9kZWxzLkZvcm1TdWJtaXNzaW9ucy5saXN0KHtcclxuICAgICAgZmlsdGVyOiB7IGZvcm1JZDogeyBlcTogZm9ybS5pZCB9IH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoc3VibWlzc2lvbkVycm9ycykge1xyXG4gICAgICBjb25zb2xlLmVycm9yKHN1Ym1pc3Npb25FcnJvcnMpO1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBGZXRjaCBhZGRpdGlvbmFsIHRhZyBhbmQgZXF1aXBtZW50IGRldGFpbHMgZm9yIGVhY2ggc3VibWlzc2lvblxyXG4gICAgY29uc3Qgc3VibWlzc2lvbkRldGFpbHMgPSBhd2FpdCBQcm9taXNlLmFsbChcclxuICAgICAgc3VibWlzc2lvbnMubWFwKGFzeW5jIChzdWJtaXNzaW9uKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZm9ybUlkID0gc3VibWlzc2lvbi5mb3JtSWQ7XHJcbiAgICAgICAgY29uc3Qgc3VibWlzc2lvbklkID0gc3VibWlzc2lvbi5pZDtcclxuXHJcbiAgICAgICAgLy8gRmV0Y2ggdGhlIGFzc29jaWF0ZWQgdGFnIGFuZCBlcXVpcG1lbnQgaW5mb1xyXG4gICAgICAgIGNvbnN0IGZvcm1UYWdzUmVzcG9uc2UgPSBhd2FpdCBjbGllbnQubW9kZWxzLkZvcm1UYWcyLmxpc3Qoe1xyXG4gICAgICAgICAgZmlsdGVyOiB7XHJcbiAgICAgICAgICAgIGNvbnRlbnRUZXN0OiB7IGNvbnRhaW5zOiBzdWJtaXNzaW9uSWQgfSwgLy8gRmluZCByZWxhdGVkIHRhZ3MgYnkgc3VibWlzc2lvbiBJRFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKCFmb3JtVGFnc1Jlc3BvbnNlLmRhdGEubGVuZ3RoKSB7XHJcbiAgICAgICAgICByZXR1cm4geyAuLi5zdWJtaXNzaW9uLCBlcnJvcjogXCJObyBmb3JtIHRhZyBmb3VuZCBmb3IgdGhpcyBzdWJtaXNzaW9uLlwiIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBmb3JtVGFnID0gZm9ybVRhZ3NSZXNwb25zZS5kYXRhWzBdO1xyXG4gICAgICAgIGNvbnN0IGVxdWlwbWVudFRhZ1Jlc3BvbnNlID0gYXdhaXQgY2xpZW50Lm1vZGVscy5FcXVpcG1lbnRUYWcyLmdldCh7XHJcbiAgICAgICAgICBpZDogZm9ybVRhZy50YWdJRCA/PyBcIlwiLCAvLyBVc2UgdGhlIHRhZ0lEIGZyb20gRm9ybVRhZzJcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKCFlcXVpcG1lbnRUYWdSZXNwb25zZS5kYXRhKSB7XHJcbiAgICAgICAgICByZXR1cm4geyAuLi5zdWJtaXNzaW9uLCBlcnJvcjogXCJObyBlcXVpcG1lbnQgdGFnIGZvdW5kIGZvciB0aGlzIHN1Ym1pc3Npb24uXCIgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBmb3JtSWQsXHJcbiAgICAgICAgICBzdWJtaXNzaW9uSWQsXHJcbiAgICAgICAgICBzdWJtaXR0ZWRBdDogc3VibWlzc2lvbi5jcmVhdGVkQXQsXHJcbiAgICAgICAgICBlcXVpcG1lbnROYW1lOiBlcXVpcG1lbnRUYWdSZXNwb25zZS5kYXRhLkVxdWlwbWVudE5hbWUgPz8gXCJObyBFcXVpcG1lbnQgTmFtZVwiLFxyXG4gICAgICAgICAgdGFnOiBlcXVpcG1lbnRUYWdSZXNwb25zZS5kYXRhLlRhZyA/PyBcIk5vIEVxdWlwbWVudCBUYWdcIixcclxuICAgICAgICB9O1xyXG4gICAgICB9KVxyXG4gICAgKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBmb3JtLFxyXG4gICAgICBzdWJtaXNzaW9uczogc3VibWlzc2lvbkRldGFpbHMsXHJcbiAgICB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgZm9ybSB3aXRoIHN1Ym1pc3Npb24gZGV0YWlsczpcIiwgZXJyb3IpO1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGZldGNoIGZvcm0gYW5kIHN1Ym1pc3Npb24gZGV0YWlscy5cIik7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR2V0RXF1aXBtZW50VGFnc0ZvckZvcm0oaWQ6IHN0cmluZykge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBGZXRjaCB0aGUgZm9ybSBkYXRhXHJcbiAgICBjb25zdCB7IGRhdGE6IGZvcm0sIGVycm9ycyB9ID0gYXdhaXQgY2xpZW50Lm1vZGVscy5Gb3JtLmdldCh7IGlkIH0pO1xyXG5cclxuICAgIGlmIChlcnJvcnMpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIGZvcm06XCIsIGVycm9ycyk7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghZm9ybSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGb3JtIG5vdCBmb3VuZC5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRmV0Y2ggZXF1aXBtZW50IHRhZ3MgcmVsYXRlZCB0byB0aGUgZm9ybVxyXG4gICAgY29uc3QgeyBkYXRhOiBlcXVpcG1lbnRUYWdzLCBlcnJvcnM6IGVxdWlwbWVudFRhZ3NFcnJvcnMgfSA9XHJcbiAgICAgIGF3YWl0IGNsaWVudC5tb2RlbHMuRm9ybVRhZzIubGlzdCh7XHJcbiAgICAgICAgZmlsdGVyOiB7IGZvcm1JRDogeyBlcTogZm9ybS5pZCB9IH0sXHJcbiAgICAgIH0pO1xyXG5cclxuICAgIGlmIChlcXVpcG1lbnRUYWdzRXJyb3JzKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBlcXVpcG1lbnQgdGFnczpcIiwgZXF1aXBtZW50VGFnc0Vycm9ycyk7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghZXF1aXBtZW50VGFncyB8fCBlcXVpcG1lbnRUYWdzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICBjb25zb2xlLmxvZyhcIk5vIGVxdWlwbWVudCB0YWdzIGZvdW5kLlwiKTtcclxuICAgICAgcmV0dXJuIHsgZm9ybSwgZXF1aXBtZW50VGFnczogW10gfTtcclxuICAgIH1cclxuXHJcbiAgICAgIC8vIEZldGNoIHJlbGF0ZWQgZXF1aXBtZW50IGRldGFpbHMgZm9yIGVhY2ggdGFnXHJcbiAgICBjb25zdCBlcXVpcG1lbnREZXRhaWxzID0gYXdhaXQgUHJvbWlzZS5hbGwoXHJcbiAgICAgIGVxdWlwbWVudFRhZ3MubWFwKGFzeW5jICh0YWcpID0+IHtcclxuICAgICAgICAvLyBFbnN1cmUgdGhhdCB0YWcudGFnSUQgaXMgdmFsaWQgYmVmb3JlIG1ha2luZyB0aGUgQVBJIGNhbGxcclxuICAgICAgICBjb25zdCBlcXVpcG1lbnRUYWcgPSB0YWcudGFnSUQgPyBhd2FpdCBjbGllbnQubW9kZWxzLkVxdWlwbWVudFRhZzIuZ2V0KHsgaWQ6IHRhZy50YWdJRCB9KSA6IG51bGw7XHJcblxyXG4gICAgICAgIGlmIChlcXVpcG1lbnRUYWcpIHtcclxuICAgICAgICAgIHJldHVybiBlcXVpcG1lbnRUYWc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJJbnZhbGlkIHRhZ0lEOlwiLCB0YWcudGFnSUQpO1xyXG4gICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgKTtcclxuXHJcbiAgICBcclxuXHJcbiAgICByZXR1cm4geyBmb3JtLCBlcXVpcG1lbnRUYWdzOiBlcXVpcG1lbnREZXRhaWxzLmZpbHRlcih0YWcgPT4gdGFnICE9PSBudWxsKSB9O1xyXG5cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIGVxdWlwbWVudCB0YWdzIGZvciBmb3JtOlwiLCBlcnJvcik7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbn1cclxuXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR2V0Q2xpZW50V2l0aFByb2plY3RzKENsaWVudElEOiBzdHJpbmcpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBlcnJvcnMsIGRhdGEgfSA9IGF3YWl0IGNsaWVudC5tb2RlbHMuQ2xpZW50LmdldCh7IGlkOiBDbGllbnRJRCB9KTtcclxuXHJcbiAgICBpZiAoZXJyb3JzIHx8ICFjbGllbnQpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIGNsaWVudDpcIiwgZXJyb3JzKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2xpZW50IG5vdCBmb3VuZC5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRmV0Y2ggYWxsIHByb2plY3RzIHJlbGF0ZWQgdG8gdGhpcyBjbGllbnRcclxuICAgIGNvbnN0IHsgZGF0YTogcHJvamVjdHMsIGVycm9yczogcHJvamVjdEVycm9ycyB9ID1cclxuICAgICAgYXdhaXQgY2xpZW50Lm1vZGVscy5Qcm9qZWN0dC5saXN0KHtcclxuICAgICAgICBmaWx0ZXI6IHsgQ2xpZW50SUQ6IHsgZXE6IENsaWVudElEIH0gfSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgaWYgKHByb2plY3RFcnJvcnMpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIHByb2plY3RzOlwiLCBwcm9qZWN0RXJyb3JzKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geyAuLi5kYXRhLCBwcm9qZWN0cyB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3I6XCIsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufVxyXG5cclxuLypHZXRDbGllbnRXaXRoUHJvamVjdHMoXCIxYWQ3NGJjZS1iZDlkLTQxMzEtODNlZi1lZmZlY2JhNzRjN2RcIilcclxuICAudGhlbigoZGF0YSkgPT4gY29uc29sZS5sb2coXCJDbGllbnQgd2l0aCBQcm9qZWN0czpcIiwgZGF0YSkpXHJcbiAgLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIGNsaWVudCB3aXRoIHByb2plY3RzOlwiLCBlcnJvcikpOyovXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR2V0Rm9ybXNXaXRoQ2xpZW50KENsaWVudElEOiBzdHJpbmcpIHtcclxuICBjb25zdCB7IHVzZXJJZCB9ID0gYXdhaXQgZ2V0Q3VycmVudFVzZXIoKTtcclxuICBpZiAoIXVzZXJJZCkge1xyXG4gICAgdGhyb3cgbmV3IFVzZXJOb3RGb3VuZEVycigpO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIC8vIEZldGNoIHByb2plY3RzIGxpbmtlZCB0byB0aGUgQ2xpZW50SURcclxuICAgIGNvbnN0IHsgZGF0YTogcHJvamVjdHMsIGVycm9yczogcHJvamVjdEVycm9ycyB9ID1cclxuICAgICAgYXdhaXQgY2xpZW50Lm1vZGVscy5Qcm9qZWN0dC5saXN0KHtcclxuICAgICAgICBmaWx0ZXI6IHsgQ2xpZW50SUQ6IHsgZXE6IENsaWVudElEIH0gfSxcclxuICAgICAgfSk7XHJcbiAgICBjb25zb2xlLmxvZyhcIlByb2plY3RzIEZvdW5kOlwiLCBwcm9qZWN0cyk7XHJcbiAgICBpZiAocHJvamVjdEVycm9ycyB8fCAhcHJvamVjdHMgfHwgcHJvamVjdHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IocHJvamVjdEVycm9ycyB8fCBcIk5vIHByb2plY3RzIGZvdW5kIGZvciB0aGlzIGNsaWVudC5cIik7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIHByb2plY3RzIGZvdW5kIGZvciB0aGlzIGNsaWVudC5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRmV0Y2ggZm9ybXMgZm9yIGVhY2ggcHJvamVjdFxyXG4gICAgY29uc3QgZm9ybXMgPSBhd2FpdCBQcm9taXNlLmFsbChcclxuICAgICAgcHJvamVjdHMubWFwKGFzeW5jIChwcm9qZWN0KSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyBkYXRhOiBwcm9qZWN0Rm9ybXMgfSA9IGF3YWl0IGNsaWVudC5tb2RlbHMuRm9ybS5saXN0KHtcclxuICAgICAgICAgIGZpbHRlcjogeyBwcm9qSUQ6IHsgZXE6IHByb2plY3QucHJvamVjdElEIH0gfSxcclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlByb2plY3QgSUQ6XCIsIHByb2plY3QucHJvamVjdElEKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhgRm9ybXMgZm9yIFByb2plY3QgJHtwcm9qZWN0LnByb2plY3ROYW1lfTpgLCBwcm9qZWN0Rm9ybXMpO1xyXG5cclxuICAgICAgICByZXR1cm4gcHJvamVjdEZvcm1zLm1hcCgoZm9ybSkgPT4gKHtcclxuICAgICAgICAgIC4uLmZvcm0sXHJcbiAgICAgICAgICBwcm9qZWN0TmFtZTogcHJvamVjdC5wcm9qZWN0TmFtZSxcclxuICAgICAgICB9KSk7XHJcbiAgICAgIH0pLFxyXG4gICAgKTtcclxuXHJcbiAgICByZXR1cm4gZm9ybXMuZmxhdCgpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgZm9ybXMgd2l0aCBjbGllbnQ6XCIsIGVycm9yKTtcclxuICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBmZXRjaCBmb3JtcyBmb3IgdGhlIGNsaWVudC5cIik7XHJcbiAgfVxyXG59XHJcblxyXG4vKkdldEZvcm1zV2l0aENsaWVudChcIjFhZDc0YmNlLWJkOWQtNDEzMS04M2VmLWVmZmVjYmE3NGM3ZFwiKVxyXG4udGhlbigoZm9ybXMpID0+IGNvbnNvbGUubG9nKFwiRm9ybXM6XCIsIGZvcm1zKSlcclxuLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5lcnJvcihcIkVycm9yOlwiLCBlcnJvcikpOyovXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR2V0Rm9ybXNJbmZvcm1hdGlvbigpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBlcnJvcnM6IGNsaWVudEVycm9ycywgZGF0YTogY2xpZW50c0RhdGEgfSA9XHJcbiAgICAgIGF3YWl0IGNsaWVudC5tb2RlbHMuQ2xpZW50Lmxpc3QoKTtcclxuXHJcbiAgICBpZiAoY2xpZW50RXJyb3JzKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvcjpcIiwgY2xpZW50RXJyb3JzKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGZldGNoIGZvcm1zLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgcmVzdWx0cyA9IFtdO1xyXG5cclxuICAgIGZvciAoY29uc3QgY2xpZW50SXRlbSBvZiBjbGllbnRzRGF0YSkge1xyXG4gICAgICBjb25zdCB7IGVycm9yczogcHJvamVjdEVycm9ycywgZGF0YTogcHJvamVjdHNEYXRhIH0gPVxyXG4gICAgICAgIGF3YWl0IGNsaWVudC5tb2RlbHMuUHJvamVjdHQubGlzdCh7XHJcbiAgICAgICAgICBmaWx0ZXI6IHsgQ2xpZW50SUQ6IHsgZXE6IGNsaWVudEl0ZW0uaWQgfSB9LFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKHByb2plY3RFcnJvcnMpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3I6XCIsIHByb2plY3RFcnJvcnMpO1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVycm9yIGZldGNoaW5nIHByb2plY3RzXCIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmb3IgKGNvbnN0IHByb2plY3RJdGVtIG9mIHByb2plY3RzRGF0YSkge1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coYEZldGNoaW5nIGZvcm1zIGZvciBwcm9qZWN0OiAke3Byb2plY3RJdGVtLnByb2plY3ROYW1lfSwgSUQ6ICR7cHJvamVjdEl0ZW0ucHJvamVjdElEfWApO1xyXG5cclxuICAgICAgICBjb25zdCB7IGVycm9yczogZm9ybUVycm9ycywgZGF0YTogZm9ybXNEYXRhIH0gPVxyXG4gICAgICAgICAgYXdhaXQgY2xpZW50Lm1vZGVscy5Gb3JtLmxpc3Qoe1xyXG4gICAgICAgICAgICBmaWx0ZXI6IHsgcHJvaklEOiB7IGVxOiBwcm9qZWN0SXRlbS5wcm9qZWN0SUQgfSB9LCAvLyBFbnN1cmUgdGhlIGNvcnJlY3Qga2V5IGlzIHVzZWRcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAoZm9ybUVycm9ycykge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yOlwiLCBmb3JtRXJyb3JzKTtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVycm9yIGZldGNoaW5nIGZvcm1zXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmVzdWx0cy5wdXNoKHtcclxuICAgICAgICAgIGNsaWVudE5hbWU6IGNsaWVudEl0ZW0uQ2xpZW50TmFtZSxcclxuICAgICAgICAgIHByb2plY3ROYW1lOiBwcm9qZWN0SXRlbS5wcm9qZWN0TmFtZSxcclxuICAgICAgICAgIHByb2plY3RJRDogcHJvamVjdEl0ZW0ucHJvamVjdElELFxyXG4gICAgICAgICAgZm9ybXM6IGZvcm1zRGF0YS5tYXAoKGZvcm0pID0+ICh7XHJcbiAgICAgICAgICAgIGlkOiBmb3JtLmlkLFxyXG4gICAgICAgICAgICBuYW1lOiBmb3JtLm5hbWUsXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBmb3JtLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICBwdWJsaXNoZWQ6IGZvcm0ucHVibGlzaGVkLFxyXG4gICAgICAgICAgICBjb250ZW50OiBmb3JtLmNvbnRlbnQsXHJcbiAgICAgICAgICAgIGNyZWF0ZWRBdDogZm9ybS5jcmVhdGVkQXQsXHJcbiAgICAgICAgICAgIHZpc2l0czogZm9ybS52aXNpdHMsXHJcbiAgICAgICAgICAgIHN1Ym1pc3Npb25zOiBmb3JtLnN1Ym1pc3Npb25zLFxyXG4gICAgICAgICAgfSkpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAvL2NvbnNvbGUubG9nKFwiUmVzdWx0czpcIiwgcmVzdWx0cyk7XHJcbiAgICByZXR1cm4gcmVzdWx0cztcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yXCIsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufVxyXG5cclxuLypjb25zdCBmb3Jtc0luZm8gPSBhd2FpdCBHZXRGb3Jtc0luZm9ybWF0aW9uKClcclxuY29uc29sZS5sb2coJ0Zvcm0gSW5mbzonLCBmb3Jtc0luZm8pOyovXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR2V0UHJvamVjdHNGcm9tQ2xpZW50TmFtZShDbGllbnROYW1lOiBzdHJpbmcpIHtcclxuICB0cnkge1xyXG4gICAgLy8gRmV0Y2ggQ2xpZW50IGJhc2VkIG9uIENsaWVudE5hbWVcclxuICAgIGNvbnN0IHsgZXJyb3JzLCBkYXRhOiBjbGllbnREYXRhIH0gPSBhd2FpdCBjbGllbnQubW9kZWxzLkNsaWVudC5saXN0KHtcclxuICAgICAgZmlsdGVyOiB7IENsaWVudE5hbWU6IHsgZXE6IENsaWVudE5hbWUgfSB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKGVycm9ycyB8fCBjbGllbnREYXRhLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgY2xpZW50IG9yIGNsaWVudCBub3QgZm91bmQ6XCIsIGVycm9ycyk7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNsaWVudCBub3QgZm91bmQuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFzc3VtaW5nIGVhY2ggY2xpZW50IGhhcyBhbiBhcnJheSBvZiBwcm9qZWN0c1xyXG4gICAgY29uc3QgQ2xpZW50cyA9IGNsaWVudERhdGFbMF07IC8vIEFzc3VtaW5nIHRoZSBmaXJzdCBjbGllbnQgaW4gdGhlIGxpc3QgaXMgdGhlIG9uZSB3ZSdyZSBpbnRlcmVzdGVkIGluXHJcbiAgICBjb25zdCB7IGRhdGE6IHByb2plY3RzLCBlcnJvcnM6IHByb2plY3RFcnJvcnMgfSA9XHJcbiAgICAgIGF3YWl0IGNsaWVudC5tb2RlbHMuUHJvamVjdHQubGlzdCh7XHJcbiAgICAgICAgZmlsdGVyOiB7IENsaWVudElEOiB7IGVxOiBDbGllbnRzLmlkIH0gfSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgaWYgKHByb2plY3RFcnJvcnMpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIHByb2plY3RzOlwiLCBwcm9qZWN0RXJyb3JzKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHByb2plY3ROYW1lcyA9IHByb2plY3RzLm1hcCgocHJvamVjdCkgPT4gcHJvamVjdC5wcm9qZWN0TmFtZSk7XHJcbiAgICAvLyBSZXR1cm4gY2xpZW50IGFuZCBhc3NvY2lhdGVkIHByb2plY3RzXHJcbiAgICByZXR1cm4geyBwcm9qZWN0TmFtZXMgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yOlwiLCBlcnJvcik7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBDcmVhdGVGb3JtKFxyXG4gIG5hbWU6IHN0cmluZyxcclxuICBkZXNjcmlwdGlvbjogc3RyaW5nLFxyXG4gIHByb2plY3ROYW1lOiBzdHJpbmcsXHJcbikge1xyXG4gIC8vIEZldGNoIHRoZSBwcm9qZWN0IGRldGFpbHMgdXNpbmcgcHJvamVjdE5hbWVcclxuICBjb25zdCB7IGVycm9yczogcHJvamVjdEVycm9ycywgZGF0YTogcHJvamVjdHNEYXRhIH0gPVxyXG4gICAgYXdhaXQgY2xpZW50Lm1vZGVscy5Qcm9qZWN0dC5saXN0KHtcclxuICAgICAgZmlsdGVyOiB7IHByb2plY3ROYW1lOiB7IGVxOiBwcm9qZWN0TmFtZSB9IH0sXHJcbiAgICB9KTtcclxuXHJcbiAgaWYgKHByb2plY3RFcnJvcnMpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBwcm9qZWN0czpcIiwgcHJvamVjdEVycm9ycyk7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggcHJvamVjdHMuXCIpO1xyXG4gIH1cclxuXHJcbiAgaWYgKHByb2plY3RzRGF0YS5sZW5ndGggPT09IDApIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihgUHJvamVjdCB3aXRoIG5hbWUgXCIke3Byb2plY3ROYW1lfVwiIG5vdCBmb3VuZC5gKTtcclxuICB9XHJcblxyXG4gIC8vIEdldCB0aGUgZmlyc3QgbWF0Y2hpbmcgcHJvamVjdCdzIElEXHJcbiAgY29uc3QgcHJvaklEID0gcHJvamVjdHNEYXRhWzBdLnByb2plY3RJRDtcclxuXHJcbiAgLy8gTm93IGNyZWF0ZSB0aGUgZm9ybSB1c2luZyBwcm9qSURcclxuICBjb25zdCB7IGVycm9yczogZm9ybWVycm9ycywgZGF0YTogZm9ybSB9ID0gYXdhaXQgY2xpZW50Lm1vZGVscy5Gb3JtLmNyZWF0ZSh7XHJcbiAgICBwcm9qSUQ6IHByb2pJRCxcclxuICAgIG5hbWU6IG5hbWUsXHJcbiAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sXHJcbiAgfSk7XHJcblxyXG4gIGlmIChmb3JtZXJyb3JzKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZm9ybTpcIiwgZm9ybWVycm9ycyk7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJTb21ldGhpbmcgd2VudCB3cm9uZyB3aGlsZSBjcmVhdGluZyB0aGUgZm9ybVwiKTtcclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBmb3JtSWQ6IGZvcm0/LmlkLFxyXG4gICAgcHJvaklEOiBwcm9qSUQsXHJcbiAgfTtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBydW5Gb3JtID0gYXN5bmMgKFxyXG4gIGZvcm1Vcmw6c3RyaW5nLFxyXG4gIEVxdWlwTmFtZTogc3RyaW5nLFxyXG4gIEVxdWlwVGFnOiBzdHJpbmcsXHJcbik6IFByb21pc2U8e1xyXG4gIHN1Y2Nlc3M6IGJvb2xlYW47XHJcbiAgY3JlYXRlZFRhZ0lEPzogc3RyaW5nO1xyXG4gIHRhZ0NyZWF0ZWRBdD86IHN0cmluZztcclxufT4gPT4ge1xyXG4gIC8vY29uc29sZS5sb2coXCJydW5Gb3JtIGNhbGxlZCB3aXRoOlwiLCBmb3JtVXJsLCBFcXVpcE5hbWUsIEVxdWlwVGFnKTtcclxuICB0cnkge1xyXG4gICAgY29uc3QgZm9ybVJlc3AgPSBhd2FpdCBHZXRGb3JtQ29udGVudEJ5VXJsKGZvcm1VcmwpO1xyXG4gICAgXHJcbiAgICBpZiAoIWZvcm1SZXNwKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJGb3JtIG5vdCBmb3VuZCB3aXRoIHRoZSBwcm92aWRlZCBUZXN0TmFtZSBhbmQgUHJvamVjdElEXCIpO1xyXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGZvcm0gPSBmb3JtUmVzcDtcclxuXHJcbiAgICBjb25zdCBleGlzdGluZ1RhZ1Jlc3AgPSBhd2FpdCBjbGllbnQubW9kZWxzLkVxdWlwbWVudFRhZzIubGlzdCh7XHJcbiAgICAgIGZpbHRlcjoge1xyXG4gICAgICAgIFRhZzogeyBlcTogRXF1aXBUYWcgfSxcclxuICAgICAgICBFcXVpcG1lbnROYW1lOiB7IGVxOiBFcXVpcE5hbWUgfSxcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IGV4aXN0aW5nVGFnID0gZXhpc3RpbmdUYWdSZXNwLmRhdGE/LlswXTtcclxuXHJcbiAgICBpZiAoZXhpc3RpbmdUYWcpIHtcclxuICAgICAgY29uc3QgbGlua2VkRm9ybVJlc3AgPSBhd2FpdCBjbGllbnQubW9kZWxzLkZvcm1UYWcyLmxpc3Qoe1xyXG4gICAgICAgIGZpbHRlcjoge1xyXG4gICAgICAgICAgdGFnSUQ6IHsgZXE6IGV4aXN0aW5nVGFnLmlkIH0sXHJcbiAgICAgICAgICBmb3JtSUQ6IHsgZXE6IGZvcm0uaWQgfSxcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmIChsaW5rZWRGb3JtUmVzcC5kYXRhPy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgIFwiVGhpcyBlcXVpcG1lbnQgYW5kIHRhZyBhcmUgYWxyZWFkeSBhc3NvY2lhdGVkIHdpdGggdGhpcyBmb3JtIGFuZCBwcm9qZWN0LlwiLFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgYWxlcnQoXHJcbiAgICAgICAgICBcIkVycm9yOiBUaGlzIGVxdWlwbWVudCBhbmQgdGFnIGFyZSBhbHJlYWR5IGFzc29jaWF0ZWQgd2l0aCB0aGlzIGZvcm0gYW5kIHByb2plY3QuXCIsXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSB9O1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGNyZWF0ZVJlc3AgPSBudWxsO1xyXG4gICAgbGV0IGNyZWF0ZWRUYWdJRDogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xyXG4gICAgbGV0IHRhZ0NyZWF0ZWRBdDogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xyXG5cclxuICAgIGlmICghZXhpc3RpbmdUYWcpIHtcclxuICAgICAgY3JlYXRlUmVzcCA9IGF3YWl0IGNsaWVudC5tb2RlbHMuRXF1aXBtZW50VGFnMi5jcmVhdGUoe1xyXG4gICAgICAgIFRhZzogRXF1aXBUYWcsXHJcbiAgICAgICAgRXF1aXBtZW50TmFtZTogRXF1aXBOYW1lLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmICghY3JlYXRlUmVzcC5kYXRhKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBjcmVhdGUgRXF1aXBtZW50VGFnXCIpO1xyXG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlIH07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNyZWF0ZWRUYWdJRCA9IGNyZWF0ZVJlc3AuZGF0YS5pZDtcclxuICAgICAgdGFnQ3JlYXRlZEF0ID0gbmV3IERhdGUoY3JlYXRlUmVzcC5kYXRhLmNyZWF0ZWRBdClcclxuICAgICAgICAudG9JU09TdHJpbmcoKVxyXG4gICAgICAgIC5zcGxpdChcIlRcIilbMF07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZm9ybVRhZ1Jlc3AgPSBhd2FpdCBjbGllbnQubW9kZWxzLkZvcm1UYWcyLmNyZWF0ZSh7XHJcbiAgICAgIGZvcm1JRDogZm9ybS5pZCxcclxuICAgICAgdGFnSUQ6IGV4aXN0aW5nVGFnID8gZXhpc3RpbmdUYWcuaWQgOiBjcmVhdGVkVGFnSUQsXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoIWZvcm1UYWdSZXNwLmRhdGEpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBjcmVhdGUgRm9ybVRhZ1wiKTtcclxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBjcmVhdGVkVGFnSUQsIHRhZ0NyZWF0ZWRBdCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZXhlY3V0aW5nIHJ1bkZvcm06XCIsIGVycm9yKTtcclxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlIH07XHJcbiAgfVxyXG59O1xyXG5cclxuLy8gRmV0Y2ggZm9ybUlkIGJ5IFRlc3ROYW1lIGFuZCBQcm9qZWN0SURcclxuY29uc3QgZmV0Y2hGb3JtQnlOYW1lQW5kUHJvamVjdCA9IGFzeW5jIChcclxuICBUZXN0TmFtZTogc3RyaW5nLFxyXG4gIFByb2plY3RJRDogc3RyaW5nLFxyXG4pID0+IHtcclxuICB0cnkge1xyXG4gICAgLy9jb25zb2xlLmxvZyhcIkZldGNoaW5nIGZvcm0gd2l0aCBUZXN0TmFtZTpcIiwgVGVzdE5hbWUsIFwiYW5kIFByb2plY3RJRDpcIiwgUHJvamVjdElEKTtcclxuICAgIGNvbnN0IGZvcm1SZXNwID0gYXdhaXQgY2xpZW50Lm1vZGVscy5Gb3JtLmxpc3Qoe1xyXG4gICAgICBmaWx0ZXI6IHtcclxuICAgICAgICBuYW1lOiB7IGVxOiBUZXN0TmFtZSB9LFxyXG4gICAgICAgIHByb2pJRDogeyBlcTogUHJvamVjdElEIH0sXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICAvL2NvbnNvbGUubG9nKFwiRm9ybSBmZXRjaCByZXNwb25zZTpcIiwgZm9ybVJlc3ApO1xyXG5cclxuICAgIC8vIElmIGZvcm0gZXhpc3RzLCByZXR1cm4gdGhlIGZpcnN0IHJlc3VsdFxyXG4gICAgcmV0dXJuIGZvcm1SZXNwLmRhdGE/LlswXTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIGZvcm06XCIsIGVycm9yKTtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxufTtcclxuXHJcbi8qYXdhaXQgcnVuRm9ybShcIlRlc3QgbmFtZSAxXCIsIFwiSEUxMDFQMDAxXCIsIFwiQ29tcHJlc3NvciBYXCIsIFwiVEFHLTAwMVwiKVxyXG4udGhlbigobmV3RXF1aXBtZW50VGFnKSA9PiBjb25zb2xlLmxvZyhcIkNyZWF0ZWQgRm9ybVRhZzpcIiwgbmV3RXF1aXBtZW50VGFnKSlcclxuLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5lcnJvcihcIkVycm9yOlwiLCBlcnJvcikpOyAvLyBIYW5kbGUgYW55IGVycm9ycyAqL1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdldEZvcm1zQnlDbGllbnROYW1lKENsaWVudE5hbWU6IHN0cmluZykge1xyXG4gIC8vIDEuIEZldGNoIHRoZSBDbGllbnQgSURcclxuICBjb25zdCBjbGllbnRSZXN1bHQgPSBhd2FpdCBjbGllbnQubW9kZWxzLkNsaWVudC5saXN0KHtcclxuICAgIGZpbHRlcjogeyBDbGllbnROYW1lOiB7IGVxOiBDbGllbnROYW1lIH0gfSxcclxuICB9KTtcclxuXHJcbiAgY29uc3QgY2xpZW50RGF0YSA9IGNsaWVudFJlc3VsdC5kYXRhPy5bMF07XHJcbiAgaWYgKCFjbGllbnREYXRhKSByZXR1cm4gW107XHJcblxyXG4gIGNvbnN0IGNsaWVudElEID0gY2xpZW50RGF0YS5pZDtcclxuXHJcbiAgLy8gMi4gRmV0Y2ggYWxsIFByb2plY3RzIHdpdGggdGhlIGNvcnJlc3BvbmRpbmcgQ2xpZW50SURcclxuICBjb25zdCBwcm9qZWN0c1Jlc3VsdCA9IGF3YWl0IGNsaWVudC5tb2RlbHMuUHJvamVjdHQubGlzdCh7XHJcbiAgICBmaWx0ZXI6IHsgQ2xpZW50SUQ6IHsgZXE6IGNsaWVudElEIH0gfSxcclxuICB9KTtcclxuXHJcbiAgY29uc3QgcHJvamVjdHMgPSBwcm9qZWN0c1Jlc3VsdC5kYXRhO1xyXG4gIGlmICghcHJvamVjdHMubGVuZ3RoKSByZXR1cm4gW107XHJcblxyXG4gIGNvbnN0IHByb2plY3RJRHMgPSBwcm9qZWN0cy5tYXAoKHByb2plY3QpID0+IHByb2plY3QucHJvamVjdElEKTtcclxuXHJcbiAgLy8gMy4gRmV0Y2ggYWxsIEZvcm1zIGZvciB0aGUgZm91bmQgcHJvamVjdHNcclxuICBjb25zdCBhbGxGb3JtcyA9IGF3YWl0IFByb21pc2UuYWxsKFxyXG4gICAgcHJvamVjdElEcy5tYXAoYXN5bmMgKHByb2plY3RJRCkgPT4ge1xyXG4gICAgICBjb25zdCBmb3Jtc1Jlc3VsdCA9IGF3YWl0IGNsaWVudC5tb2RlbHMuRm9ybS5saXN0KHtcclxuICAgICAgICBmaWx0ZXI6IHsgcHJvaklEOiB7IGVxOiBwcm9qZWN0SUQgfSB9LFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGNvbnN0IGZvcm1zID0gZm9ybXNSZXN1bHQuZGF0YTtcclxuICAgICAgY29uc3QgZm9ybUlEcyA9IGZvcm1zLm1hcCgoZm9ybSkgPT4gZm9ybS5pZCk7XHJcblxyXG4gICAgICBjb25zdCBmb3JtRGV0YWlsc1dpdGhFcXVpcG1lbnQgPSBhd2FpdCBQcm9taXNlLmFsbChcclxuICAgICAgICBmb3JtSURzLm1hcChhc3luYyAoZm9ybUlkKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCB7IGRhdGE6IGZvcm1UYWdzLCBlcnJvcnM6IGZvcm1UYWdzRXJyb3JzIH0gPVxyXG4gICAgICAgICAgICBhd2FpdCBjbGllbnQubW9kZWxzLkZvcm1UYWcyLmxpc3Qoe1xyXG4gICAgICAgICAgICAgIGZpbHRlcjogeyBmb3JtSUQ6IHsgZXE6IGZvcm1JZCB9IH0sXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIGlmIChmb3JtVGFnc0Vycm9ycykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICAgICAgIGBFcnJvciBmZXRjaGluZyBmb3JtIHRhZ3MgZm9yIGZvcm0gSUQgJHtmb3JtSWR9OmAsXHJcbiAgICAgICAgICAgICAgZm9ybVRhZ3NFcnJvcnMsXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGNvbnN0IHRhZ0lEcyA9IGZvcm1UYWdzLm1hcCgodGFnKSA9PiB0YWcudGFnSUQpO1xyXG5cclxuICAgICAgICAgIGNvbnN0IGVxdWlwbWVudEFuZFRhZ3MgPSBhd2FpdCBQcm9taXNlLmFsbChcclxuICAgICAgICAgICAgdGFnSURzLm1hcChhc3luYyAodGFnSUQpID0+IHtcclxuICAgICAgICAgICAgICBjb25zdCB7IGRhdGE6IGVxdWlwbWVudERhdGEsIGVycm9yczogZXF1aXBtZW50RXJyb3JzIH0gPVxyXG4gICAgICAgICAgICAgICAgYXdhaXQgY2xpZW50Lm1vZGVscy5FcXVpcG1lbnRUYWcyLmxpc3Qoe1xyXG4gICAgICAgICAgICAgICAgICBmaWx0ZXI6IHRhZ0lEID8geyBpZDogeyBlcTogdGFnSUQgfSB9IDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgIGlmIChlcXVpcG1lbnRFcnJvcnMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgICAgICAgICAgIGBFcnJvciBmZXRjaGluZyBlcXVpcG1lbnQgZm9yIHRhZ0lEICR7dGFnSUR9OmAsXHJcbiAgICAgICAgICAgICAgICAgIGVxdWlwbWVudEVycm9ycyxcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIHJldHVybiBlcXVpcG1lbnREYXRhLm1hcCgoZXF1aXBtZW50KSA9PiAoe1xyXG4gICAgICAgICAgICAgICAgZXF1aXBtZW50TmFtZTogZXF1aXBtZW50LkVxdWlwbWVudE5hbWUsXHJcbiAgICAgICAgICAgICAgICBlcXVpcG1lbnRUYWc6IGVxdWlwbWVudC5UYWcsXHJcbiAgICAgICAgICAgICAgICB0YWdDcmVhdGVkQXQ6IG5ldyBEYXRlKGVxdWlwbWVudC5jcmVhdGVkQXQpXHJcbiAgICAgICAgICAgICAgICAgIC50b0lTT1N0cmluZygpXHJcbiAgICAgICAgICAgICAgICAgIC5zcGxpdChcIlRcIilbMF0sIC8vIDwtLSBBZGljaW9uYWRvIGFxdWlcclxuICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICBjb25zdCBmb3JtRGF0YSA9IGZvcm1zLmZpbmQoKGZvcm0pID0+IGZvcm0uaWQgPT09IGZvcm1JZCk7XHJcbiAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBjbGllbnROYW1lOiBjbGllbnREYXRhLkNsaWVudE5hbWUsXHJcbiAgICAgICAgICAgIHByb2plY3ROYW1lOiBwcm9qZWN0cy5maW5kKFxyXG4gICAgICAgICAgICAgIChwcm9qZWN0KSA9PiBwcm9qZWN0LnByb2plY3RJRCA9PT0gcHJvamVjdElELFxyXG4gICAgICAgICAgICApPy5wcm9qZWN0TmFtZSxcclxuICAgICAgICAgICAgcHJvamVjdElELFxyXG4gICAgICAgICAgICBmb3JtTmFtZTogZm9ybURhdGE/Lm5hbWUsXHJcbiAgICAgICAgICAgIGVxdWlwbWVudDogZXF1aXBtZW50QW5kVGFncy5mbGF0KCksXHJcbiAgICAgICAgICAgIHN1Ym1pc3Npb246IGZvcm1EYXRhPy5zdWJtaXNzaW9ucyB8fCAwLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogZm9ybURhdGE/LmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICBmb3JtSWQ6IGZvcm1JZCxcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfSksXHJcbiAgICAgICk7XHJcblxyXG4gICAgICByZXR1cm4gZm9ybURldGFpbHNXaXRoRXF1aXBtZW50LmZpbHRlcigoZGV0YWlsKSA9PiBkZXRhaWwgIT09IG51bGwpO1xyXG4gICAgfSksXHJcbiAgKTtcclxuXHJcbiAgY29uc3QgZmxhdHRlbmVkRm9ybXMgPSBhbGxGb3Jtcy5mbGF0KCk7XHJcblxyXG4gIHJldHVybiBmbGF0dGVuZWRGb3Jtcy5tYXAoKGZvcm1EZXRhaWwpID0+ICh7XHJcbiAgICBjbGllbnROYW1lOiBmb3JtRGV0YWlsLmNsaWVudE5hbWUsXHJcbiAgICBwcm9qZWN0TmFtZTogZm9ybURldGFpbC5wcm9qZWN0TmFtZSxcclxuICAgIHByb2plY3RJRDogZm9ybURldGFpbC5wcm9qZWN0SUQsXHJcbiAgICBmb3JtSUQ6IGZvcm1EZXRhaWwuZm9ybUlkLFxyXG4gICAgZm9ybU5hbWU6IGZvcm1EZXRhaWwuZm9ybU5hbWUsXHJcbiAgICBkZXNjcmlwdGlvbjogZm9ybURldGFpbC5kZXNjcmlwdGlvbixcclxuICAgIGVxdWlwbWVudERldGFpbHM6IGZvcm1EZXRhaWwuZXF1aXBtZW50Lm1hcCgoZXF1aXBtZW50KSA9PiAoe1xyXG4gICAgICBlcXVpcG1lbnROYW1lOiBlcXVpcG1lbnQ/LmVxdWlwbWVudE5hbWUgfHwgXCJVbmtub3duXCIsXHJcbiAgICAgIGVxdWlwbWVudFRhZzogZXF1aXBtZW50Py5lcXVpcG1lbnRUYWcgfHwgXCJVbmtub3duXCIsXHJcbiAgICAgIHRhZ0NyZWF0ZWRBdDogZXF1aXBtZW50Py50YWdDcmVhdGVkQXQgfHwgXCJVbmtub3duXCIsIC8vIDwtLSBBZGljaW9uYWRvIGFxdWkgdGFtYsOpbVxyXG4gICAgfSkpLFxyXG4gICAgc3VibWlzc2lvbjogZm9ybURldGFpbC5zdWJtaXNzaW9uLFxyXG4gIH0pKTtcclxufVxyXG5cclxuLyphd2FpdCBHZXRGb3Jtc0J5Q2xpZW50TmFtZShcIlJpbyBUaW50b1wiKVxyXG4gIC50aGVuKChmbGF0dGVuZWRGb3JtcykgPT4ge1xyXG4gICAgY29uc29sZS5sb2coXCLinIUgRm9ybXMgZnJvbSBjbGllbnQ6XCIsIGZsYXR0ZW5lZEZvcm1zKTtcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCLinYwgRXJyb3IgZmV0Y2hpbmcgZm9ybXM6XCIsIGVycm9yKTtcclxuICB9KTsqL1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFNhdmVGb3JtQWZ0ZXJUZXN0KFxyXG4gIEZvcm1JRDogc3RyaW5nLFxyXG4gIFRhZ0lEOiBzdHJpbmcsXHJcbiAgY29udGVudDogc3RyaW5nLFxyXG4pIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBkYXRhOiBmb3JtVGFncywgZXJyb3JzIH0gPSBhd2FpdCBjbGllbnQubW9kZWxzLkZvcm1UYWcyLmxpc3Qoe1xyXG4gICAgICBmaWx0ZXI6IHtcclxuICAgICAgICBmb3JtSUQ6IHsgZXE6IEZvcm1JRCB9LFxyXG4gICAgICAgIHRhZ0lEOiB7IGVxOiBUYWdJRCB9LFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKGVycm9ycykge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3I6XCIsIGVycm9ycyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBmb3JtVGFnVG9VcGRhdGUgPSBmb3JtVGFnc1swXTtcclxuXHJcbiAgICBpZiAoIWZvcm1UYWdUb1VwZGF0ZSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiTm90aGluZyBmb3VuZCBmb3IgdGhpcyBmb3JtSUQgYW5kIHRhZ0lEXCIpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdXBkYXRlZCA9IGF3YWl0IGNsaWVudC5tb2RlbHMuRm9ybVRhZzIudXBkYXRlKHtcclxuICAgICAgaWQ6IGZvcm1UYWdUb1VwZGF0ZS5pZCxcclxuICAgICAgY29udGVudFRlc3Q6IGNvbnRlbnQsXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhcIlVwZGF0ZWQ6XCIsIHVwZGF0ZWQpO1xyXG4gICAgcmV0dXJuIHVwZGF0ZWQ7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgU2F2ZUZvcm1BZnRlclRlc3Q6XCIsIGVycik7XHJcbiAgfVxyXG59XHJcblxyXG4vKiAgU2F2ZUZvcm1BZnRlclRlc3QoXCI5NmEzNGNhMC0wM2EyLTRmNzktODg1My00OTVlN2VhM2QwNjBcIiwgXCI0MGRmNTk4MS1lOGQwLTQ1ZTEtYjhmNC05OTIyZjVjY2NlNTJcIiwgXCJUZXN0IGNvbnRlbnRcIilcclxuLnRoZW4oKHVwZGF0ZWRGb3JtKSA9PiB7XHJcbiAgY29uc29sZS5sb2coXCJGb3JtIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5OlwiLCB1cGRhdGVkRm9ybSk7XHJcbn0pXHJcbi5jYXRjaCgoZXJyb3IpID0+IHtcclxuICBjb25zb2xlLmVycm9yKFwiRXJyb3IgdXBkYXRpbmcgZm9ybTpcIiwgZXJyb3IpO1xyXG59KTsqL1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENvbnRlbnRCeUZvcm1JRGFuZFRhZ0lEKFxyXG4gIEZvcm1JRDogc3RyaW5nLFxyXG4gIFRhZ0lEOiBzdHJpbmcsXHJcbikge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IGRhdGE6IGZvcm1UYWdzLCBlcnJvcnMgfSA9IGF3YWl0IGNsaWVudC5tb2RlbHMuRm9ybVRhZzIubGlzdCh7XHJcbiAgICAgIGZpbHRlcjoge1xyXG4gICAgICAgIGZvcm1JRDogeyBlcTogRm9ybUlEIH0sXHJcbiAgICAgICAgdGFnSUQ6IHsgZXE6IFRhZ0lEIH0sXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoZXJyb3JzKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvcjpcIiwgZXJyb3JzKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGZvcm1UYWcgPSBmb3JtVGFnc1swXTtcclxuXHJcbiAgICBpZiAoIWZvcm1UYWcpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIk5vdGhpbmcgZm91bmQgZm9yIHRoaXMgZm9ybUlEIGFuZCB0YWdJRFwiKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGNvbnRlbnQgPSBmb3JtVGFnLmNvbnRlbnRUZXN0O1xyXG5cclxuICAgIC8vY29uc29sZS5sb2coXCJGZXRjaGVkIGNvbnRlbnQ6XCIsIGNvbnRlbnQpO1xyXG4gICAgcmV0dXJuIGNvbnRlbnQ7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZ2V0Q29udGVudEJ5Rm9ybUlEYW5kVGFnSUQ6XCIsIGVycik7XHJcbiAgfVxyXG59XHJcblxyXG4vKmdldENvbnRlbnRCeUZvcm1JRGFuZFRhZ0lEKFwiMmUwNjlkZmEtM2U2ZC00MmQyLWJlMDYtNTQ0YjVhYTk5YjQwXCIsIFwiOTM5OTkzNWEtNTllYS00MTNmLTgzMDMtNDFiOGZjNGY5N2I3XCIpXHJcbi50aGVuKCh1cGRhdGVkRm9ybSkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKFwiRm9ybSB1cGRhdGVkIHN1Y2Nlc3NmdWxseTpcIiwgdXBkYXRlZEZvcm0pO1xyXG59KVxyXG4uY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgY29uc29sZS5lcnJvcihcIkVycm9yIHVwZGF0aW5nIGZvcm06XCIsIGVycm9yKTtcclxufSk7Ki9cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRFcXVpcG1lbnRUYWdJRChcclxuICBlcXVpcG1lbnROYW1lOiBzdHJpbmcsXHJcbiAgZXF1aXBtZW50VGFnOiBzdHJpbmcsXHJcbikge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBRdWVyeSB0byBmZXRjaCBlcXVpcG1lbnQgYnkgaXRzIG5hbWUgYW5kIHRhZ1xyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvcnMgfSA9IGF3YWl0IGNsaWVudC5tb2RlbHMuRXF1aXBtZW50VGFnMi5saXN0KHtcclxuICAgICAgZmlsdGVyOiB7XHJcbiAgICAgICAgRXF1aXBtZW50TmFtZTogeyBlcTogZXF1aXBtZW50TmFtZSB9LFxyXG4gICAgICAgIFRhZzogeyBlcTogZXF1aXBtZW50VGFnIH0sXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBDaGVjayBmb3IgZXJyb3JzXHJcbiAgICBpZiAoZXJyb3JzKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBlcXVpcG1lbnQgdGFnOlwiLCBlcnJvcnMpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgZGF0YSBleGlzdHNcclxuICAgIGNvbnN0IGVxdWlwbWVudFRhZ0RhdGEgPSBkYXRhWzBdOyAvLyBBc3N1bWluZyB0aGUgZmlyc3QgZW50cnkgbWF0Y2hlcyB0aGUgc2VhcmNoXHJcbiAgICBpZiAoIWVxdWlwbWVudFRhZ0RhdGEpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIk5vIG1hdGNoaW5nIGVxdWlwbWVudCBmb3VuZCBmb3IgZ2l2ZW4gbmFtZSBhbmQgdGFnLlwiKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldHVybiB0aGUgZXF1aXBtZW50VGFnSURcclxuICAgIHJldHVybiBlcXVpcG1lbnRUYWdEYXRhLmlkOyAvLyBBc3N1bWluZyBgaWRgIGlzIHRoZSBlcXVpcG1lbnRUYWdJRFxyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGluIGdldEVxdWlwbWVudFRhZ0lEOlwiLCBlcnIpO1xyXG4gIH1cclxufVxyXG5cclxuLypnZXRFcXVpcG1lbnRUYWdJRChcIkVxdWlwMVwiLCBcIlRhZzFcIilcclxuLnRoZW4oKHVwZGF0ZWRGb3JtKSA9PiB7XHJcbiAgY29uc29sZS5sb2coXCJFcXVpcCBUQUcgSUQ6XCIsIHVwZGF0ZWRGb3JtKTtcclxufSlcclxuLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gIGNvbnNvbGUuZXJyb3IoXCJFcnJvciB1cGRhdGluZyBmb3JtOlwiLCBlcnJvcik7XHJcbn0pOyovXHJcbiJdLCJuYW1lcyI6WyJHZXRDbGllbnRzIiwiR2V0UHJvamVjdHMiLCJHZXRGb3JtU3RhdHMiLCJHZXRGb3JtcyIsIkdldEZvcm1CeUlkIiwiVXBkYXRlRm9ybUNvbnRlbnQiLCJzYXZlRm9ybUFjdGlvbiIsIlB1Ymxpc2hGb3JtIiwicHVibGlzaEZvcm1BY3Rpb24iLCJHZXRGb3JtQ29udGVudEJ5VXJsIiwiU3VibWl0Rm9ybSIsInN1Ym1pdEZvcm1BY3Rpb24iLCJHZXRGb3JtV2l0aFN1Ym1pc3Npb25zIiwiR2V0U3VibWlzc2lvbldpdGhUYWdJbmZvIiwiR2V0Rm9ybVdpdGhTdWJtaXNzaW9uRGV0YWlscyIsIkdldEVxdWlwbWVudFRhZ3NGb3JGb3JtIiwiR2V0Q2xpZW50V2l0aFByb2plY3RzIiwiR2V0Rm9ybXNXaXRoQ2xpZW50IiwiR2V0Rm9ybXNJbmZvcm1hdGlvbiIsIkdldFByb2plY3RzRnJvbUNsaWVudE5hbWUiLCJDcmVhdGVGb3JtIiwicnVuRm9ybSIsIkdldEZvcm1zQnlDbGllbnROYW1lIiwiU2F2ZUZvcm1BZnRlclRlc3QiLCJnZXRDb250ZW50QnlGb3JtSURhbmRUYWdJRCIsImdldEVxdWlwbWVudFRhZ0lEIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./actions/form.tsx\n"));

/***/ })

});